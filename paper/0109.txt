NBER WORICNG PAPER SERIES

ROSEPACK

Docurrnt No. 2:

AUTOMATING SM-AND-LEAF DISPLAYS

David C. Hoaglin*

Stanley S. Wasser!m3n**

Working Paper No. 109

CO1UTER RESEARCH CENI1R FOR ECONOff CS AND MANAGEMENT SCIENCE

Bureau of Economic Research, Inc.
575 Technology Square
Cambridge, Massachusetts 02139

National

November 1975

Preliminary

NBER working papers a.e distributed informally and in limited nuithers.
This report has not undergone the review accoixed official NBER publications;

in particular, it has not yet been submitted for approval by the Board of
Directors.

*NBER Computer Research Center and Harvard University. Research supported in part
National Science Foundation Grants DCR 75-08802 to the National Bureau
Economic Research and SOC 72-05257 to Harvard University.

by

of

Computer Research Center and Harvard University. Research supported in
part by National Science Foundation Grant DCR 70-03456 A0 to the National

'C*NBER

Bureau

of Economic Research.

Abstract

The stem-arid-leaf display is a natural semi-graphic technique to include in
choices involved
statistical computing systems. This paper discusses the
in implementing both automated and flexible versions of the display, develops
an algorithm for the automated version, examines various implementation con-

siderations, and presents

a set of semi-portable FORTRAN subroutines

ducing stem-and-leaf displays.

.

.

for

pro-

Table of ContentS

.

.

1.

Introduction

2.

Stem-and-Leaf Displays .

.

i
2

3

Exhibiti

3.

.

Lines'

How ijany

6

What Scaling'

5. A Scaling

8

Algorithm

6.

Stems, Units,

7.

Some Refinements

8.

Examples

and

Leaves

10

11
12

13

Exhit)it 2

Exhibit 3

15

Exhibit

16

Exhibit
Exhibit 6
9.

17
18

Ac]rnowledgments
19

References

Appendix
Al.

A FORTRAN Implementation

Organization of the Subroutines

Al

Al
A'-

A2. Numerical Aspects

the
Installation As

A5

A3. Calculating

Depths

ALE.

a Conmand

A5. Error Checl-ng
A6. FORTRAN

.

Listings

A6
A6

A7

1. Introduction
display has so many uses in everyday data analysis that

The stem-and-leaf

it

should be a natural component of any modern statistical computing system. In

inpiementirig it,

lines

however, one must

maice many decisions.

of output should the display occupy? How

pleasant

and

effective

on one line --

taste,

appearance?

ten, five,

How many

user really

wants.

should it be scaled to give a

different leaf

or two? Some of the

so the system must have enough

For example, how many

digits should fall

answers doubtless involve personal

flexibility to produce

the display the

Why, then, should one consider automation, which would seem

to deprive the user of that control?

There is

actually a strong justification

for trying to produce automatically a reasonable stem-and-leaf display for a

given batch of data. If the system is interactive, the user will usually need
to

ask for only minor changes in order to produce the finished display. More

extensive trial would be easy, but it would generally be unnecessary. In a
non-interactive system the much longer delay in receiving the next output
places a premium on getting close to the "right" stem-and-leaf display on the

first try

so

that at most one further iteration is necessary. In what follows

we discuss several basic rules which lead "automatically" to a reasonable

stem-and-leaf display. An appendix presents a set of "semi-portable" FORTRAN
subroutines and

.

discusses

some of the details of inplementation.

—2-

2.
For starting to

look at a batch or sample of data the stem-and--leaf display,

developed by John W. Tukey
The

.

Stem-and-Leaf Displays

[7,8], provides a flexible and effective

technique.

basic idea is to let the most significant digits of the data values them-

selves do most of the work of sorting the batch into numerical order and dis-

playing it. In the simplest form one chooses a suitable pair of adjacent
digits in the data, splits each data value between these two
a

digits, allocates

separate line in the display for each possible string of leading digits (the

stem), and writes down the first trailing digit (the leaf) of each data value
on the line corresponding to its leading digits. (The name "stem-and-leaf"
comes about by analogy to espaliered trees or shrubs, which are trained so

that their trunks grow vertically against a wall and their branches

grow

horizontally along it.) An example readily shows how the process works.

Frohilger arid Kane [2] report the pH values for 26 samples of precipita-

tion collected at a location in Allegheny County, Pennsylvania, from December
1973 to June 1974. In chronological order the data values are
4.57,

5.67,
5.08,

5.62, 4.12, 5.29, 4.64, 4.31, 4.30, 4.39, 4145,
4.39, 4.52, 4.26, '4.26, 4.40, 5.78, 4.73, 4.56,
4.41, 4.12, 5.51, 4.82, 4.63, 4.29, '4.60.

In this case it is reasonable to split between the second and
example, 4.57 yields '4.5J7 -

third digits;

for

The necessary lines (17 in all) run from '4.1 to

5.7, and writing down the leaves in chronological order gives the raw display
on the left in Exhibit

1.

In the finished display the decimal points have

been dropped in favor of a reminder that all
an

occasional asterisk indicates that the

data

values are in units

leaves are one-digit,

of depths (which we will shortly define) has been added to the
In

of 01,
-

and a column
left of the stems.

overall appearance the display is similar to a histogram with an interval

width of .1; the leaves add numerical detail.

—3—

Exhibit 1
Stem-and-Leaf Displays for Tecipitation pH Data

finished
(unit .01)

raw
'4.1
'4.2

22
669

4.3

1099

2
5

9

501
726

(3)

'4.6 '430

11

'4.'4

'4.5

'4.7

12

'42

22
669

'43 1099
4I4*

501

'45 726
'46

'430

3

8

'47 3

'4.82

7

'48

5.0 8
5.1

5.29

5
5

5Q* 8
51
52 9

53

5.3

514

5.!4

5.51

5.6

2

'49

'4.9

27

5.78

.

'-1'

'4

55 1

3 56 27
1

57 8

A data value can be assigned a rank by counting in from each end of the

batch. The depth of the data value is the smaller of these two ranks. Since
a number of suninarj values (such as the median and the quartiles or the hinges)
can easily be defined in terms of their depths, it is helpful to present a
set of depths with the display. Except for one middle line, the number in
the depth coluim is the maximum depth associated with data values on that line.

Thus the depth of 4.29 is 5. The "middle line" (absent when the batch size is
even and the median falls between lines) includes the median, and the depth
column shows in parentheses the number of leaves (in the example, 3) on this

line. If the display has been prepared by hand, adding the count on the middle
line and the depths on the two adjacent lines provides a simple check that no

data

values have been omitted. In
Either

26.

display in Exhibit 1 reveals quite a lot about the behavior of the

precipitation

p1-1

data: a rather flat

with scattered values

from

the example, 12 + 3 + 11

distribution of values from 4.1 to 4.7

trailing off above that to 5.3 and

a

clump of four values

5.51 to 5.78. It is worth remarking that Frohliger and Kane give the

range and average of their data but do not corrnent on the distribution of the

sample, which hardly lends itself to such a simple summary

mixture of

two

and

may suggest a

populations.

.

—5—

3. How Many Lines?

Experience suggests that an effective choice of the number of lines involves

the number of data values in the batch as well as the range to be covered.
In view of the similarities between stem-and-leaf displays and histograms,
we should be able to calculate the maximum number of lines according to a

rule given by Dixon and Kroral [1]:
L

[10 x

log10n]

where n is the number

of

data values and [x] is the largest integer not

exceeding x. (Interestingly, Dixon and Kronnial based their histogram

on

rule

a suggestion by Tukey!) This seems to give very reasonable values of L

over the range 20<n<300, where almost all applications fall. Values of n

smaller than 20 may need special treatment. These cases are also more
likely to arise when comparing several batches in

displays,

parallel stem-and-leaf

a situation we would want to handle differently anyway.

Batches

of 300 or so are usually cumbersome in a steim—and-leaf display, but the

rule should still cope with them reasonably well. There is nothing sacred
about the constant factor 10 in the definition of L, and further experience

may

lead

to a different value. As an alternative rule, Velleman [9] has

suggested L [2v ].

.

—6—

.

. What Scaling?
Using L as

a rough

now determine

limit

on the number

of lines in the display, we must

the interval of values corresponding to each line. The simple

way to do this (implicit in the earliest form of stem-and-leaf display, as
in Exhibit 1) is to arrange that the interval width be a power of 10. This
we can easily accomplish by dividing R, the range

of

the batch, by L and

rounding the quotient up (if necessary) to the nearest power of ten. A segment of the stems for such a display might look like this:

0

1
2
3

and each

the

line

would receive leaves

0 through 9.

It soon

became clear that

display was sometimes too crowded, having too many leaves per line.

Tukey's response was to split the lines and repeat each stem:

0•

1*

22•
putting

In

leaves 0 through Lf

on

the

line and

5 through 9

on the • line.

such a display the interval width is 5 times a power of 10.
This

change made a great improvement, but there were still some cases in

which the result was too crowded even in the split-stem form and too straggly
in the original form at the next lower power of 10. To cure these troubles,

Tukey added the third form, five lines per stem:

S

—7—

0*
t

f
S

0•

with leaves
line,

0 and 1 on the * line, 2 and 3 on

6 and 7

on

the t line,

and 5 on the f

s line, and 8 and 9 on the • line. (As a reiiiinder in start-

ing to place leaves it is convenient that the three lettered lines contain
leaves whose

words begin with that letter.) Here the interval width is 2

tes a power

of 10.

—8—

5.

.

A Scaling Algorithm

Viewing the three fonns together, all we need to do is divide R by L and
round

the quotient up to 1, 2, or 5 times a

power of

10. This rule of

thumb is useful when one is preparing a stem-and-leaf display by hand, but
we must forrailate it as a specific algorithm for a computer. This is
straightforward if we adapt the algorithm of Dixon and Krormial [1].

Their algorithm, intended for scaling

axes

in graphs and histograms,

uses a set of ?round?t numbers p1,. ' such that 1
For scaling stem-and-leaf displays we need only p1

<

p1

<

p2

1, p2

<

... < p

2, p3

< 10.

5. To

fix notation, we let

A smallest value in the batch,
B

largest value in the batch, and

S =

scale

factor (the interval width)

and recall that

L number of lines in the display, and

A.

R = B -

Thus we want L x 5 > R with S as small as possible and S

I and k. Like Dixon and Eonmal, we begin by taking t
(R/L)/lot <

p3

=

5,

p1 x 10k for some

[log10(R/L)]. If

we let k t and find the smallest p. which is at least

(R/L)/lOk. Otherwise, k t+l and the desired p is p1

1.

Next we calculate the number of stems actually required for the display
and

detenmine whether S must be increased. We easily find that the number of S

lines

actually used is sign(B) x [JB/S] -

sign(A)

x [IA/SI] + 1 (plus 1 if

—9—

needed

for the -o

stern).

This can exceed L, and if it does, we replace S with

the next larger "round" number, increasing k if necessary. This completes the
scaling.

S

.

—10—

6.
In

•

Stems, Units,

and

Leaves

producing the display we must calculate the stems and then separate

each data value into a starting part and a leaf. To do this, we recall that
all entries in a stem-and-leaf display may be regarded as integer multiples

of a power of 10, referred to as the unit. If we denote this unit by U, we can
very easily calculate it from S: When S 2 x 10k or S 5 10k
10k;
and when S

10k u

In calculating the stems (or more precisely,

the labels on the lines) we

take into account the special role of zero. We implicitly number the

must

lines of the display in steps of S/U from sign(A) x IIAISI] x
sign(B) x [ B/SJ]

x (S/U), including -0 if it occurs.

digit of each such number, and when

indicates which of the

digit

S is 2 or

5 times

(S/U)

to

We drop the low-order
a power of ten, that

special labels such as t and

.

to use for

an intenTlediate line.
Finally we are
and

ready

to separate each data value into a

starting part

a leaf and collect the leaves on their proper stems. We will generally

cut each data value to a rrultiple of U by simply discarding low-order digits.
(This

makes

value

whenever that value requires further attention.) In

it easy to match an entry in the display with its original data

then, the last digit is the leaf, and the
For

example, with U

starting part of

that integer multiple,

part.
separate it into a

other digits are the starting

.01 we would cut 2.213 to 2.21 and

22 and a leaf of 1.

.

-11—

7. Some Refinements

In

a sense

discussion has

this

removed the

stem-and-leaf display from its

natural context, exploratory data analysis. Since resistant analyses
(which are little affected by changes in a snail fraction of the data)
are an important part of the exploratory mode, it is quite unwise for
an automated stem-and-leaf

values, A and
outliers

B.

display

to depend so heavily on the extreme

Instead, we should begin by setting aside any serious

and basing A and

B

on those values which rerrain.

Since the batch will aLready be sorted (or will be sorted as the first

step in producing a stem-and-leaf display), it is easy to isolate outliers.
One useful

rule of thumb [7] finds the upper and

lower

hinges (approximate

aside any data values further

quartiles) and their difference dH and

sets

than

In printing the display we can add

the

1.5 x dH from the nearer hinge.

lines "hi" and "lo" beyond the set of stems and list those outlying

values.

Another important refinement lets us handle parallel displays (with
one conuion

set

for

of stems)

comparing several batches. Here the tentative

rule (subject to further experience) is to regard the individual batches

as combined into a single batch for the purposes of scaling and
This evidently

using

forming stems.

provides a set of stems which covers the combined range, and

the total nunber

of

data values to determine the number

of

lines will

acconmodate moderate shifts from batch to batch. (Large shifts may lead us
-to line

up the batches by subtracting at least a rough adjusbnent from each.)

.

-12—

8.

Examples

A few examples should clarify the suggestions for automating stem—and-leaf

displays.

We present four which are

representative of a broad range of

possibilities.
In the first example (Exhibit 2) all steps are straightforward. We
can

easily round

requirement

R/L

up

to give S5 without using logarithms, and the line

(10) does not exceed L (114). The display seems quite satis-

factory.
If we do not check for possible outliers, the new feature in the second
example (Exhibit 3) is the need to increase S from .02 to .05 in order to

keep the line requirement within L. The resulting display may seem rather

bunched on the stems 23 and 23- .

A closer look uncovers four possible

stray values at the low end and leads to a somewhat more reasonable display
(Exhibit 14).

Since the four low values do not stray far, we might also use

15 lines and avoid separating the low values from the rest of the batch.
Exhibit 5 shows how to handle +0 and -0 when the batch contains both

positive and negative values. In this case no data values need to be set
aside, and it is a simple task to construct the display.
The fourth and last example (Exhibit 6) shows both parallel displays
and

an

obvious outlier. After we set aside the one straying value, the dis-

play is reasonably effective, but the straggling behavior of the third batch
has clearly taken a toll.
All in all, the present "automatedt' approach usually seems to produce

the

stem-and-leaf displays one might prefer after some trial and

error.

.

-13—

Exhibit 2
Data (hardness of aluminum die castings [6, p. Li.2])
53.0, 70.2, 84.3, 55.3, 78.5, 63.5, 71.4, 53.4,

82.5,

67.3, 69.5, 73.0, 55.7, 85.8, 95.4, 51.1,

74.4, 54.1, 77.8, 52.4, 69.1, 53.5, 64.3, 82.7,

55.7, 70.5, 87.5, 50.7, 72.3, 59.5

Calculations

n = 30,

L

[10 x 1og1030]

[14.77]

A = 50.7, B = 95.4, R = B

—

R/L

44.7/14

5,

lines

required

3.19; S

A

14

1447

U1

[95.4/5] — [50.7/5]

+ 1

Display

C UJ I

j
ii

13

3
14

8

6

3

1'

5

=

•

I 000E +0 1

I 0123334

I 55
6 134
•

6. I 7,)9
I 001234
7

7. I 78

81224
8. I f

9.ID
I

I

C)

10

-14-

.

Exhibit 3

Data
2.3146, 2.334,

2365,

2.1417, 2.399, 2.354,

2.339, 2.368, 2.257, 2.358, 2.326, 2.3314,
2.313, 2,298, 2.371, 2.197, 2.378, 2.395,
2.335, 2,207, 2.398, 2.211, 2.273, 2.213,
2.330, 2.359, .1468, 2.352, 2.1463, 2.398

Calculations
fl

30, L

[10 x

A 2.197, B
R/L

lines required =

Display (urd.t
1
ij.

7

15
15
3
2

114

2.1468; R 0.271

0.271/14

Since this

1og1030]

0.0194; S

.02, U .01

[2.4681.02]

—

exceeds

[2.1971.02]

L, S must be increased

+ 1

to

.05.

15

.

.01)

219

22* 011
22 579
23* 12333334
23' 555566779999
214*1
2'4

66

.

-15—

Exhibit 4

Data (in

Exhibit 3)

CaLculations

hinges:

dH = .065

2.313 and 2.378,

cutoff v1ues: 2 . 2155 and 2.4755
Set aside 2,197, 2.207, 2.211, and 2.213 to get A 2.257 and
114.
26 and L
B ; 2.468 with n
R/L =

0.211/14

.02, U

.015; S

.01

I4ne required 12

.

Dsp1ay

4

LO

( U1 IT =

U • I 000E—0

I b

6
/

517
22. 1 9
23

14

5

II

7
3
2
2

S

1

T

1

I 233333

1 I '555
5 1 677

23. 1 9999

2411
1'

1

2.20/0

2. 19/U

1

I

2.2110

2.21)

—16—

.

Exh.jbjt 5
Data

-1.4, 1.2,

0.5, -0.3, -0.8, 0.4,

-1.3,

0.5,

0.7, -0.2, 0.1, 2.3, 0J, -0.8, -2.6, 0.7
—0,9, —0.4, 0.2, 1.3

Calculations

n 20, L

[10 x

A —2.6, B
RIL

log020] 13

2.3; R

4.9/13

4.9

.38; S

lines required

.5, U .1

12.3/.5] +

[2.6/.5]

+ 2

__
pipy
(

I

3

6
9

4
1

3
I

I

Li N I 1' =

-2.

I
I

—1

I 43

—0

I 000 E +

.

00

I o

—.
—I,
—0.

0.

11

1 )88
1 432
I 1124

0
0. J 557/
I

123

1. I

2 13

.

—17—

Exhibit 6

Data (counties,

including independent cities, by region in U.S. states)

Northeast: 8, 16, 114, 10, 21, 62, 67, 5, 14

North Central: 102, 92, 99, 105, 83, 87, 115, 93, 53, 88, 67, 72
$outh: 67, 75, 3, 67, 159, 120, 614, 214, 82, 100, 77, '46,

95,

2514, 130, 55

West: 29, 114, 58, 63, 5, 1414, 56, 17, 32, 36, 29, 39, 33

Calculations (scale as one batch)
214 arid 88, dH

Hinges:

cutoff

614

values: -.72 and 1814

Set aside 2514 (Texas) to get A 3 and B 159 with n

•

R/L

156/16; S

Lines required

Dsp1ay (uriit

10, U 1
16

1 county)
3

0' 85
1 61404

5
147

21

'4

99

2693

3"

6

'4

3
7

5

86

7714

3

2

57

10

378
293
25

2
5
0

11

5

'4

5

627
7
8

9'

12*
13

0
0

114

.

'49 and L

15*

9

hil

2514

16

-18—

9.

Aclciowledts

The present implementation of stem-and-leaf

displays

has evolved frorTI

earlier one-lineper-stem versions progranned by Michael D.
Godfrey for
the instructionaJ. computing package SNAP/IEDA on the IBM 7094 and refined
by Hale

F. Tro-tter when SNAP/lEnA was converted to the IBM 360. We are

also indebted to Paul W. Holland, Paul F.

for

Velleman, and Roy

E. Welsch

axicu1ating the needs of a variety of users, to Neil E. Kaden and

Virginia Klema for va1uble discussjons of semi-portability, and to
Stephen C. Peters for assistance in testing arid
debugging.

.

S

—19—

References

[1] Dixon, W.J., and I<ronmal, R.A., 1965, "The Choice of Origin
Graphs," Journal of the Association for Computing Machinery

and Scale for
12, 259-261.

Acid Nature,"
[2] Foh1iger, J.O., and Kane, R., 1975, "Precipitation: Its
Science 189, '455'457.

Interactive Data
[3] Hoaglin, D.C., and Welsch, R.E., 197'4, "MIT-SNAP, An
Institute of
Massachusetts
of
Management,
Analysis System," Sloan School
Technology.

['4]

Ryder,

E.G., 197'4, "The PFORT Verifier,"

Software -—

Practice

and

Experience

'4, 359—377.

[5]

A.D., 1975, "The PFORT Verifier," Computing
Ryder, B.G., and 1, Bell
Laboratories, Murray Hill, New Jersey.

Technical

Science

Report #12,

[6] Shewhar, W.A., 1931, Economic Control of Quality

of Manufactured Product,

D. Van Nostrand, Inc., Princeton, New Jersey.

•

(Limited PreliminarY Edition),
[7] Thkey, J .W., 1970, Exploratory Data Analysis
Volume 1, Addison-Wesley, Reading, Massachusetts.

Displays," Statisticai
[8] Tukey, J.W., 1972, "Some Graphic and Sernigraphic
(T.A.
Bancroft,
editor), Iowa State
Papers in Honor of George W. Snedecor
University Press, Ames, Iowa.
for Exploratory Data Analysis I:
[9] Vellemen, P. F., 1975, "Interactive Computing
Proceede
Display Algorithms," American Statistical Association:
Statistical
Association,
Statistical Computing Section, 1975, American
Washington, D.C.

.

Al

APPENDIX

A FORTRAN Implementation

To illustrate various aspects of automating stem-and-leaf displays, we
have developed a set of "semi-portable" FORTRAN subroutines. ("Semi-portablet'
implies that it should be possible to compile the subroutines under many
different versions of FORTRAN, but that a few machine-dependent details

reinin. We have

used the PFORT Verifier [,5] to check

adherence to PFORT,

a large, carefp.]-ly defined, portable subset of Mierican National Standard
FORTRAN. Only one deparire from PFORT remains: for clarity we have
re-tained subscript expressions involving more than one integer variable,

as in "NI+l't )

•

In addition to presenting the FORTRAN listings
this appendix briefly describes the subroutines and

for the subroutines,
their roles in producing

the stem-and-leaf display, discusses machine-dependent

numarical aspects

o the algorithm, explains the calculations of the depths printed with the
reports on how stem-and-leaf has been installed as a corrmand in a
statistical computing system, and reviews the points at which error checking

display,

is desirable.
Al. Organization of the Subroutines
In this implementation the process of producing a stem-and-leaf display
a

for

single batch of data has been irodularized into four components (SLDSPY,

SLSCAL, SLLEAF, and SLPRNT) and two utility routines (SLSORT and IFLOOR).

This particular arrangement provides the flexibility for pre-chosen scaling
arid for parallel displays using a corruron set of sterns.
SLDSPY (sequenced SLAB) is the driver routine. It takes as input the

batch of data and the necessary scratch storage, and it controls the

A2

succeeding steps in producing the display. After
it checks for possible outliers

are

identified occording

to

calling SLSORT to sort the data,

and withholds them from the display. (Optliers

a siriple

rule of thumb based

on the "hinges"

quartiles) of the batch: set aside any data value further
1 step beyond the hinge, where a step is 1.5 tines the difference

(approxrnate

than

between the hinges.) SLDSPY

calls

SLLEAF to

then calls SLSCAL to

lay out the stems and

heading and the low outliers,

scale the display,

calculate the leaves, prints a

calls SLPPNT

to print the display, and

finally prints the high outliers. The stem-and-leaf display is corrimunicated

from SLLfAF to SLPRNT in four arrays: ISTEMS and LABELS

determine the sta'ting part or stem

to

together

be printed on each line, LEAVES

the single-digit leaves, and ILFCNT gives the number of leaves
on each line f the d4splay. Using this structure, one could display
contains

several batches side-by-side on the same page by having a orrirnon
stems (in ISTEMS and LABELS) and one set of leaves (as in LEAVES
ILFCNT)

set

of

and

for each batch. Ir practice it uual1y suffices to use a cormion

scaling for the batches and print the displays one after another, letting
the user cut and paste to achieve the desired effect.
SLSCAL

(sequenced LAD) uses the Dixon/Kronrna], scaling algorithm

to set the interval of values corresponding to all lines in the display
at 1, 2, or 5 tines a power of 10.
SLIEL&F (sequenced SLAF) handles the caJculations involved
up

in setting

the strting parts (in ISEMS and LABELS), converting each data value

into a leaf, and placing that leaf on the proper line. The statements
from line $LAF121O to line SLAF150 may need some explanation. Basically,

the statemnts involving stems inpiement the inplicit numbering of lines
in steps of S/U from sign(A) x [IA/S!] x (S/U) to sign(B) x [lB/SI] x (S/U),

as described in the section "Stems, Units, and Leaves". The built-in

A3

FORThAN function INT(x) has the same

effect

[lxi], and the

as sign(x) x

variable IS has the value S/U. The statement

"KSl

= KSF / 10"

discards

the low-order digit of KSF and puts the digits of the stem in 1<51. That

digit is

low-order
in

recovered and saved in LAB. If the lowest data value

the display is negative, each negative stem is

allow
When

the stern "0", which

for

is

shifted down by 1 to

represented by the value -l in ISTEMS.

(equal to 10/IS) is 2 or 5, this repreactually introduces a jump in the implicit

the number of lines per

stem

sentation

of negative stems

numbering

scheme, and the test for KS =

-10

at line SLAF153O resets KS

so that the next iteration will continue with the stem "+0". The role
of the factor "ONE + EPS" in calculating stems arid leaves is discussed
in the next section.

SLPRNT (sequenced ShAH) prints the numerical unit used in the display
and

then prints the display, accompanied at the left by the colurrm of

depths.

More

details on these depths are given in a

parameter LINWID

output

(passed from

SLDSPY)

provides

later section. The

flexibility in producing

for various devices (including interactive terminals and line

printers) with different line widths. The value of LINWID is the number
of spaces in the output line; if it is less than 2, there will be no room
for any leaves, and a value greater than 123 may produce

(because

incorrect output

FORMAT statements provide for at rrnst 100 leaves per line).

SLSORT (sequenced SlAT) is
straightforward

a conveniently available and

fairly

sorting routine.

IFLOOR (sequenced SLAL) is simply the greatest integer or "floor"

function required by SLSCAL. (If desired, it could readily be placed
in-line in SLSCAL.)

At+

A2.

S

Numerical Aspects

In implementing a semi-gnaphic technique one might expect to have no

difficulty with numerica1 details. As stem-and-leaf algorithms illustrate,
matters

are not quite so simple, but fortunately

tions are few

arid

traightforwaxd. In a

the

numerical considera-

naive algorithm the most likely

of difficu1,-ty is the appearance of a data value as an incorrect
leaf, possib],y on the wrong line. For example, a data value of 6.2 might
indication

appear

with a leaf of 1 in te computer-produced display. The reason is

that most computers represent ninnbers in a "binary"

are

a

2 and 1,6)

cxparsior, it must

fixed-length computer word, and

the

(the coirnn bases

with a fixed nurrer of digits. Since .2, for example, has

non-terminating binary

.2.

form

the

e rounded

result is a number

to

fit into the

slightly

less than

The scaling calculations will not necessarily correct for this arid

leaf may
Since

appear incorrectly

as 1.

the f'oating-point representation error takes the form of a

relative eriçor and causes

difficulty in calculating

error reduces the magnitude

of

leaves

only when the

the data value, we use the factor "ONE + EPS"

in SLSCALJ and SLI,LEAF to compensat for it. The machine-dependent constant

EPS

is

and

the

a small positive number chosen to allow for representation error

effects of succeeding calculation. For single-precision arithmetic

on the IM 360 or 370 the value EPS

10

-r6

.

is a conservative choice which

allows for an error of 1 in the nec-to-last of the 6 hexadecimal digits

in the floating-point fraction (l6 =

220

lO_6). For a double-precision

implementation on the same computers the corresponding value would be
EPS

2.5 x

iolS.

.

A5

Another numerical problem can arise when all data values agree in

their first

several digits. In this

case the digits which determine the

leaves may be affected by representation and roundoff errors, and a

jumbled stem-and-leaf display may result. This is entirely a consequence

of the finite-precision floating-point representation, and the best solution is for tl-ie user to drop the leading digits conuion to all data values
before

entering the data into the computer (otherwise the damage may

already have been done). A conservative test for this problem is (in
the notation of Section 5) to ask whether S/max(l A

,

BI)

< 10 x

EPS.

If so, it is desirable to give the user a warning.

A3. Calculating

the

Depths

The information necessary to produce the column of depths is readily available by

suniing the

handled

in

cumulative

entries of the arra

ILFCNT, and

lines SLAH0920 to SLM090 in SLPPNT.

count of data values up through

the

If we

calculations are

let k. denote the

line i and n1 denote the number

values on line i (that is, n1 ILFCNT(i)), then the depth to be printed
for line I is the smaller of k.i—l + n.1 and n - k. . The excertional
"middle" line js defined as having (n - k.1 - n) - k11 < n (that is,

of

the count above the line and the count below the line differ by less than
n1 -- it is stra.ightforwar to show that this happens on at most one line),
and

the number printed is n1.

To avoid using additional FORMAT

statements,

is convenient to print the ??depth value on the "middle" line without
parentheses and also to print the value in the depth column when the line
it

.

has

no leaves.

.

A6

ALl.

Installation

As a Comnand

The subroutines we have developed are the basis for the STEM command in the

instructional package MIT-SNAP [3]. In designing such a command it is impor-

tant to

offer a high degree of automation (so that beginning students need

not

grapple with a long list of options) as well as considerable flexibility

(so

that more experienced users can produce the displays they want). Thus

in MIT-SNAP the implest request for a stem-and-leaf display produces the
automated

version we have described, including

each end of

lists of outlying values at

the batch. Optional parameters enable the user to control

of lines in the display,
- the basic unit (power of ten) for the data,
-

the

-

the number of lines per stem (only

—

th cut-off values at each end (data values outside these

are listed

maximum number

1,2, and

5 are permitted),

separately),

the

forced inclusion of all data values in the display, and
- the use of a common scaling for several batches.
-

VeUeman

[9] has described some alternative choices and options as used in

LDA.
A5.

Error

Checking

In preparing a program for general use, one should check for input which would

cause errors or Lead to garbage as output. An "automated" stem-and-leaf-djsplay
routine can avoid most problems by leaving few decisions to the user, but a few
checks remain to be made:

-

Is the number of

- Is

data values too small (n <

the working storage (ILFCNT, ISTEMS, LABELS, and

LEAVES) large enough (M> MSTEMS)?

A7

- Is

the output line too narow (LINWID < 33) or too wide

(LINWID > 123)?

Are the largest and smallest data values to be displayed
different (XIII

-

XLO)?

the data have so many siiificant digits that the
leaves are likely to be affected by roundoff enor?
Does

The parameter IERR, returned by the driver routine SLDSPY, indicates which (if

any) of these difficulties has occurred.
Anyone who uses the component subroutines to get a display different from

the automated one is expected to assume the responsibility of checking for
eors. In flT-SNAP the STUI corruiand provides much greater flexibility arid

checks its optional parameters for validity.
A6. FORAN Listings

A8

.
C

C

4C

c cc

(I)
LI)

U;

U;

(I)

it;

U)

.3
<1

C- C: 4C CC
Cc

ó'

C:

—

LI)

r

C.

CC

CC.

—...—'

&-:&-u

.,_._!

—

<<

r
r

CC

CC

CC

r
CC

CC

CC
CC

CC

-r

—,

C- cc

C. 'X

Nn

c N çt
C. 'C

C ifi (1 cc:
C
C- cc

c r'
CsJ

CC

-CC

C c C cc
ç — c,-, C
C C rn C

'-

cC

Ccc

CCCCCCCC

CCC

CCC

CC

CCC

CC

C
CC CC C
C NC
Lf',

c
4

C

C'.J

Cc
C
C .-.
CC

c
C

cN
C 'C

rn

C Lfl
C4
C
C
Cc
C a-

c
c• N

C 'C

c -fl
C4

c
C
C

r

Ca
F—

• C a it:

H-

C- a.

a CC

0;-

><

a

-—

—

>—

-

1/)

H-

a

2

—,

—: —

>

1
22

C

I-

C

Ic—

H-

(f;

a

-I H2

a

cc

2 _i

C

a H-

U H-

C

-4

•

C

H-

Ott;

H-

H-

I
-

—

—

U)
F—

1:

it)

—t

_t

0<

.
2

IC H-

H-

I
=

-4

ct:a:

—

H-

.-

.-

LI_

•

a
u_i
—

a. C

a:—

LL

0C

•:L

_'>a

I
cLc.2a

ccl LLH-

a

-

I

I><LLj F—OH-Ic

<

C

I

W

CC
OW F—

—

a I—
a
a

a—-

—w 2.H-

CC

H-

cc

I—

a

H-a.W2

H-(2

H-C

U-

_

a

-j

—

_.<

cc

a

S4

u NF

a

J3)I

•
a:

U)LLJ

r
•
2

—

W<CCC.

II
cc'

W cry:

a2
—

-4

—

H-<I2

H-:2

-

C

cc a

V

3

-4

*1

*

—4

CC

*

H-

.cj_

H- (i

*'—'

C U)

S

C

C

C

(2

C

(

C

(

C
C

(2

C

C

(2

C

C

(

C
U
C
C
C

(2

C
C
C

(2

(2

C
C

(2

* *

CC

W

—

a.

U_i

2

* **

<

C

C ¶2

F--

a-

Ca

C it;

C2

ccCC

**

2

-, .:l*

*

LI

CC

*2

-n <*}.—W*Z a*—

-

**1

LL

a: a (2

LL

CC

'*(2LL

,_'LLF—*LV)

C

C

a:

>(

F—

<

U>

U

H-I

C LI (j) C

•C

I

2

H a: CC

I

—(2

F—

JcZt

<LU

2

aLL

• Ia u

._t-

LU

t

cc

a. H- ic
—

a cC

—u_i

•-—-

•

a (I) CC

H-

H-

—'c

>

2
H-

v

CT

2 < H-

a H- a

LI)

U_i

H-ct;

C

H-C <(2H-cc

a:

a:

i

—

Ca

—.2

W

(1)

U-;

a it) C a -< a

(2 U-. a
.2

•2

a: cc

<

•zTC

<

—_i

..

>- a it) C

a: L,—

z

—

C: ZO

I—

a:a

U)

ç
,—.

>(

•

•.I v
C:

*

I—C

F-C 1J_ij IcC

LU

C

H-F-U-

a cc

I

a

Ca: H-CC)

I

I

aa
C a
a
a a_

c

—J

>-

2 W a a a IC

C
C—

U

LL

I I

it: a

H-

<>-

Icc

I

CI—IH-

a

• >-

C<2

—C

C

z (2

I—

2

C U:

H-

H- -t

•

i/ca.

iL 3 I— a

3 iLl

02

p

'—4

-

ILL

a (22 <a: a

—,

F—

I

it)

-4

a C F—

cC

I
—

a

I—.

—

'
W H- (I)

-

IL
- cc
U
C
c
_j
U:
U) H- 2
ca

it:

2a

-

H-

it:

cC

•

_n

a

u_i

2 W a — u_i

W

aC

—

-

U)

_)

C H- <>- cc

I
I

LH- 2 a a

—

<I

H-

acC

CC

..

a:

a

—

C H-

—(2

cC

a Cl
C
C

c'j

(J1

a

I aI

U

•

•

.-

H-

2

1u: H-

>

C

I

a a

-4

Iwa:H-

—U-,

W

>

W

a

ii a: C

>

it: .2 a

(t

a

(I)

H-

2C

>-

-4

—

—

4J)

A9

cl
.—C'

V
V.

V

I (I)
—

I VV
—

N

C

V

Li)

_!

V

V.

V

V

Li)

V

V

tV

N

CC

'C t-

'j' N
N

CCc(

N t-

CCC

CL

cCc-

ç' N
C' N
.—

CN

7

'V

N

X 'C
V

V

V

V

._••I

'C

'C C-C

4 'C
rn
C'—

'C

C'C

7
N
'C

V
V

_' V

_._

V

V

V

V

V

—

—,

Lr

L(

L1

4 Lf

—

r

4
—---CL'C((
ICCCC:t.!
<<<<<

4

'1

CL

Lr

'Ct—

44

r 4C C <

U- U-

>—,

a

-

Li a

V

C
V

Li

C

2

2-u

•

C—<

LL

CV.

U-

—

I
12

2—

.

-

Ce-'

.2-&/

<

—

VçrC.

2.i ii

a

V 2.>ii_

V.

><
)—

>V<

I

2 IL

Ci V

U)

— V.
—

UV

V=

IL

C

C LI: ZLLC

'1

•

—.

C Li. 2)-

_

—r

U-

•LL

X2' CC

CT

I—
—

V

ii

LiLL

.j
I- V C— .

C

U-

C

VC
—
—

V

—

I.

1-'

(P

V

—--a

HI-

'U

_i

Ct-1-—2

V <1'1 'jC'

I-.

r,._

'.

I

...'

-—

I-

I—

L12C:Z

C

U-<-

—CU.

'.
C U.
C

<
IL

C.

C

•

!

•

C

V

—.

?

2-

•

IT?

C-i-V' ——JTc-L
2-Cr— —VV)

U

IL

<CC

I—

< rU

a

C
Li C

CL CC

C

C,--C

Li CC

U
U-

—

U.

I-.ry

V
V
C
C

a—

>-

LL1JZ

-._' U.LL _CV

U.—2

v.<<C—

a

2-f) LI-C _a

IC

LLCU.

2.cC— LLCV)

IL

Li)

7C

(P1' U-Ca

•

I-

><

—

12-V —z

I'C <

• 2- I. L>

— CL—2

IL

—

•

•

C <i U-

Li-

U_CC

?

V Li 12 12

I- <2-

<

C

C

a

ç

1/,

C CT

VC

—

—,

C

LfLi

U

—

I—vC

<V

if'

I

I—V

-cc.

C<

U

V.

IL —I

LL

LI

C

I

I

•>
C

C.t

a
>- <

•

U-

-

a2

a

C
Li.

C C

—

—

—

V

,C

C

—

-H---Q

V

C

—

(P
cc;

—

I—

a-Li
CL_C

z-

.

a

'
ç.

C

>-I

>--

>-----

>-,--.LL

2-

a
I—

2
I-

172 —I---V.
LLUILC

U<
2C1 <CC

a_ _'

IL

LLZ

C

2

2

V

2-

LL

ZVLL

—

VIU

CLU.

I-

E—WLI'C

:J

<CLV

OL

<LL.

CILw<

I
C

2-IL

I—

—

V

V.CCaa

_ IL CC

V IL

—

—,

<

>

C _
If I2-

(2

<
—

<
—

—

V
21—

*_-'.._'__.._'

If

'V

i

V

V.

V Cu

**

CL —'

—

—

2- C.

2- U-: I-.--

< _'

Li I- V

2. 12 IL .__'

V

I—

< CC

—

21

>

I—

a Li

a Li
2. C

—

Li

V- —

cf—

1U

12

II-

<LL.-'

<U-

<LI-C

—

V

< C 1- LI

2

2

<-<L_' 2.

o'C <—

c'<

2C
II.

'-'

aLLCTCLL

'-'2-Li

I- C a 1— C

SC

C

C
C

C

C

C

C
C

C

C

C

C

C

c

0

C
C
C
C

C

S

/'

kP
'('
Ti)

TN

L

J\IF

THF
MR

HtITINE

R FM

TNIGLE

DISPL'Y.

SRI

AST

:

MflrlIFIpi):

*ENJ PA

I..

WASSF!MA1\t ANI)

DPCFMPR

0?)

'-i-

1

Q7•

CAMPRIDOF, MA55

75

S

AND)

Ti):

I..

fNI

ANACFMFNT Sr.INCF

DAVID HDAI]i IN (NRFP

10 DCFMRPR ]M74.

DIJEST IONS AND Cfl'MFN'TS SHOULD PP DIMPOTFI)
R(IPPDRT STAFF MANACP
COMPUTER RFSFARCH CPNTP FlIP PCI)IIp.JC5
\IATJII"IAI RIIOFAII flF PCflNIDi41fl NFSFAR;R
TFCHNDLDCY SDIIARF, NINIH FLoUR

DATI

RFSFARCH CPNTPP)

5[.iI()

PAPER

'AIITilMATINIC

TIIKFY, j.W., 'SliME PAHJC AND SFMJGRAPNJC
STAT I 5110 AL PI'FRS IN H[INMR (IF
1IN I.
RANCRDFT, FDITDP). AMFS. TUNA:
THMI\ S1AFE ''IJVERSITY
DJ55, 1977.

JNI(;

5.5.,

HDAC,LTN, I).C. AID WASSPMAN,
STFM—AND—,EAF DTS)LAYS ' •
NHER WDI
PA PFR NIl • 1']q •
N1)VlMHFR 1q75 •

**HI5TDpy:
WRTTTFN Y STANLY

(7)

(1)

k

5LAR1470, PUT MAY RF CHANCED
THF IJSFR
IkITFR PTiFi!
AND 99 INCIIISJ\1F (T'F IJPPPR LITT IS SPFCIFIFr1
THE
INST AUATTrIN AND NAY R lESS THAN Qq).

y
My

THF NA IA SF1 L HFMF!I
ci)
I DUN IT IS INI TI Al
SFT Ti)

TAIlS

TI1IHIT I

STATFMFI\ITS.

C

'\/FRSJN.

C

Ci)

TF

CARDS

IN AF)f)JTTI]N, ALL CrHISTANTS INTTIAI7MD IN
SHIJIILD PF CHANCEN FR,IM 'F' TN 'N' Flik

r

C

C

C

C

THF

iNST RN

I'

\/ALtJEc, PRI'JTS 1HHF

LI'FS

I)p' IN TNF FIRST THR:
CMNVF1 IN TH iflI IT fl\!F FkM

NF

'T L HFID THP MSFR IN
fl'IRL' P4CT STUN. '!FAI ' OFF INTTTI1.\I

CMLI INNS

TI]

c

iAXJ(jvi N1iMF

'Lil' NI) 'HI' )TA

''fj1 i:S:
SI.It1JIITJtIi CflNTAIkIN '

TTHM

C
C

C

NAIiiIk
INS IN TkF

SLPRPY CALC!'IATFS THF
\/AIHFS, AND FINDS THF

C
C

C

C

AKI]07i)

rho
APi 03fl

QI]

AP1i0
1

Ak] 00
210

SLAR1?30
SLAP 1240
SLAR1 250

SLAk122

SLAR1

SLAP 1 201)

SI

SLAR11n

SLAP)] 70

SI

Si_ARl 130
SLAR1 14fl
SLART15D

SLAP11?I)

SIAB111I

SL AR]

SLAP] D70
SLAR1OAD

SLAPIOSI]

SLA]4D
Sl_ AD iI60

51

SLAP1?Cl

SLAP]

SLAR1000

SLARIIQRD
SLARORPO

51

AR-I]

SLAROQ3O
SLARDQ4O
Si
SLARDQÔO

SLAROQ?fl

SLABON1O

SLARflqr)0

SI_AFiDff()

SLAROR6D

SLAF7

.

All

CCCD

C C CCC C — (\cn 4 C.'C N C:
C C C c C C'
C' c C C C c
C C C. C C) C
0
C
C C Cc c
0. 0' C — C rn 4
— c\ rr 4 ' .c N
'ON
C
N
c rn 4 Ic 'C
Ic
-,
Ic
Ic
-,
r
'C
m —- r(
c"
'C
44
$
4
Ic
4444 4 — — — ,- _ — —. — — ,- —. — — ..-c —C 'C 'C 'C
— ——
— — — — — r_ — — — — — —
C."

r<
'C 'C
LPj (J)

'C

$
<I

'C

Ic

4
C-"

C
N-

C

<.'

'C

/) v
..

C

'C

_J _, _, _, _J _, _J

'C

>'C
I—

3.

C
UC-

C
3-

cC-

IC
LL

Cr

Ui

L

I
I
It,L

U-

_',

I IL

I-F--

C

C

I'

IL -J

UI—

u'
-LU

cc
C\

Cr

0'

.L
<Z
>ti

2

—

C

S
Lt

'C

(/r(T) _!-1_'-J

..

I

I-4

I

C-

C
-4

-4

U-

—LU
L/)

LU

x—
'CII,;
L/LL
—C

U-

'Cc!
>-

-4

>

' .C —
C >--I—_,
C

0.1<..
C
zC•> .0
z C-,
'-C
0.

v'2v

—U..

II

C —)LL)eLL

o
-C
- .3..

II

—.

LUUç
_Jz_, —
I—

--

C

C
C*CC <-t —U--j

Q_
CCC

I-

3.

-4

Ui

—

20.

ZX-2I
0'
C'

i—

,—

2.
.J

—

I.-

I—LL

CLU

•

cr,
icc
C-

I—

IC

z

w
LL
U..,

I-

LU

CLr
C
C •CLL

—u-C

I
(2

-4

'H 'C
C

ILU II

C
'C

I-

C it

.

C

C-.%_. .—.

II

..w
3.
I 3 Ii-

"C-I--I--

—'

•• hi C

CL

i_—i

L' (2

-4

CC

I
CCC-"
1112
..2
0
•.—
••_c'i—

><

—

LL—LL
'C
F-><

C—

LU

—

D.

2 •LL

Cr

"•. 1L,;
LL3-

••—_)

-I

CCC

•'U.
"

<

C

Ic

C

—

3

2 F—
tiLl.

hF—

••.. I_
.4

cc

I

•

S

F-

..—'C
>

2

C—

F—

C—C

C C C C e e c— L' C C C C C

0'j

U-

I-

.•
.•

C
-4

-J

•

—

ILl

.

CI—

L/
--'Z

I.-

I—

CL

Wj
3_j
I—•

ii—

<

C(\
-—
LI •

cc

U—

'C 'C

..
C
..

U-

C

..

cX

.'

U—

'C

'C 'C

C'

•.

U-ui

C

(,;
.-J

•.
••
•.
•.

F—(/)LL

••

C C (2 CC C C C C C

O

C
C

(-

C

C

C

C

C

C
C

C

C
C

C

C

:
—

(K)

011

:

FL

IF

:

'JOE

(

HL

5fl

IF

=

-

Hi

—

X

I

(

X

1

—

:
XHI

::

MSTEMS =

:::

J)

I
/

)

TWO
TWO

:

I

J

I +

(

=

J

• 1 F • FL
)

0(1

TI) 40

'F

1

Ill

I + 1) • LE. Fl

J
)

00 in

o

NM

OF
-

INT (TEN

*

ALI1GIC)

LINES
(FLOAT ('N))

.

OF

-

:

:

ENTRIES IN THE DISPLAY

CALCIJI_ATF MAXIMUM NIIMP,FR

1

IS THE NUMBER

CHECK THAT
SPLAY DUES NUT HA\/E ZERO RAt\JOE
•
. XI_fl ) CU TI) 70

—

1,

'

)

1,

FFNCES

FIND VALUF ADJACFNT TI) JPP-- FFNCF

I L fl

(

=

OH
PH

Al\!F)

FIND -VALUE ADJACENT TO L0wlE FFNC-F

70 N \l-= I H I — I L 11W +

: :

*

THREEH *

-IERR = 4
RE TI JR

(

—

(4

+ HI )
1) + HO)

F

•N
+ 1)

:

DETERMINE H—SPRFA[) (OH)

K

X(IHT)

NIJE

(

: : :: : :

IF

: : :::

XHT

60 IHT =

50 Cor\r[I

DI)

::::-:::

X

40 IIJ1W = I

xLU

H

ii)

1

HO + Tl-4RFEH

MU

30

::

-=

OH =
Fl-i
—

(x

HI)

:::::-.:

(X

+

+

CA!_CIJI_ATP HTNOFS
4)

(J)

j

(-N +

X

X

/

HL =

N

(N

30 ClINT I

70

=

HL
HO =
IF (

K

J

: ::

:::

:: :

1

720

0

1

920

S LA K 2100

S L A 82090

SLA B?080

S LAS? 070

SLAB?I60

-SL Al?O5O

SLAB 2 fl ii)
S LAB 2020
SLAB 2030
SLA -2040

S LA 8 1980
SI AB1Q90
S L A 82000

S L A ft 1q60
SLAB 1q70

SLABI95O

SLABTq3O
SLAB 1040

SLA5

SLA819 10

SLAB 1900

SL A81890

SLAB) 880

SL 881870

SLAB 1860

S LAS 18

S LA 8 1840

SLAB1B30

SLAB 1820

SL ABi 810

SLAB 1740
SLAB175O
SLAB I 7M
S L A B 1 770
SLAB 178-C)
S L A B 1790
SLAB 1800

SL AK1 730

SLAB

SL A81710

0
SLAB 1700

S LAS 1 8

.

C

C

C

C

C

C

C

1,

.
(ZO

[LOW,

)

IHI,
N, NN,

T) 80

IERR, IS.

)

/

TNF
10

l

)

)

GA TO 100

(O TO 100

::

: ::

(K —

::

:

:: :

fl

i2
(

)

HIGH

I

Ji ,
J2

=

Ji ,

1))

OF

+
= .J2 + MINO (NIJMVAL,
I
IF
ii .E0.
K, ( X (I),
WRITE ( TOIJNIT,600
1
IF ( Ji •NF.
( X
(I), I
WRITE ( IOHNIT. 1O
TO
90
GO

12 +

0
J? .Efl. K

JI =

(

=

I!_flW — 1
K •LT.

IF

(

23)

PFR
1

\IIIM\IAL, THE M(IMBFR

PRINT LOW VAlUES

(. jNWJO
—

ALLI]WFF)

OFTERM IMP

N

J2

flP

LOW VALIJFS

NSTEMS, IS, SCALE, UNIT,

::::::::

NSTFS,SCALF,

EXIT F1<fl SLSCAL

MSTFMS,

IlkilT)

K =
J =
IF

(

K

—

IHI

N
•(ZT.

THI

+ I
N

)

PTNT

GO

Tfl

120

HIGH \/AI_UES

:

:

:

::

(IOUNIT,700)
S!..PRNT (ILFCNT, ILOW, Ii)IJNIT, ISTEMS, LABELS, LEAVES,
CA!.!.
*
!INWIO, N, MN, NSTEMS, lIMIT)

IF

=

(X,

IOUNTT,500)

:::

(

:1:::::::

100 WRITE

*

SLLEAF

2

.GF. NSTFMS

N(JMVAt_ =

K

XLII,

1LECNT, ISTFMS, LARFPS, LEAVES)

WRITE

*

v!

IERR
4ETURN

(

(

80 CAL'

IF

IF

(XHI,

CHECK FOR ARf\IORMAL
RETURN
TFRR .F0. 5 )

SLSCAL

:::::::

CALL

.
AR? 1

0

SLAB? 47 ()
SLAB 2482
SL AB2490
SIA B 2500
SL AB?510
S LA B 25? 0

SLAB246O

S L A B 2450

SLAB?440

SLAB? 430

SL AB?4 10
SL AB2420

SLAB2400

SL AR? 3 90

SL AB2370
SL AR 2380

SLAR2 360

SLAB?350

SLA B? 340

SLAB?310
SLA82320
SLAR733O

SLAB 2 280
SL AB??90
SLAB 2300

S L A B 2270

SLAB7?40
SLAB 2? 50
SLAR?260

S L A B? 730

SLAB?220

SL AB??10

SLAB2?00

S1.

SLAB? 170
SLAB? 180

SLAB?150
SLAR?1,O

SLAB? 110
SL AR? 120
SLAB? 130
SLAB? 140

.

611)
701)

601

500
600

.

C
C

iF

F Nfl

(

—

i

)

lOX,

)

II

1X,
15, 13X,

(1

H

(I),
I

,

+

J
I

,

Ji. ?)

=

I

DISPLAY,

=

I

1))

, lcvFio.4)
5HHI I , 1OF1O.4)

LAST LINE OF SLDSPY

)

i

(X

I)

il

27HSTEM—.AND—LEA

15, 13X, 5HLO

I/I

(74X, 1OF1O.4}

MX

(lx.

Ji

.ME. K
WRITE ( If](INIT,610)
TO 110
(

(lx

0.0

IF

I2

1

I? .Efl. N
0.1) TI)
120
ii = .J2 +
+ MINO (NUM\IAL, (N —
J2 =
IF
Ji •F0. K
WR I TE (1 (1iJT\I IT .60].
J, ( X

(

=K

FORMAT
FORMAT
FORMAT
FORMAT
F DR N AT

170 REII RN

110

J2

N

=

,
16

1/1)

2

SL 4525 70
S LA 5258
SLAB? 590
S LA 2600
SLAR26 10
S LA B 2
0
SL 48? 630
S LAS 2640
SL 482650
S L AS? 660
S LA B? 670
S L A 52680
SLAB? 690
SLAB? 700
SLAB27 10
SLAB? 720

SLAB256O

S LA 57550

SLAB254O

S L A B 25 30

.

)

4

4

(

C (N C
C—
C C. C
C 0'
rn C
C N ç,
C 'C C
C tr ç.
C CC

cç ç
C

ç c.

C (N c- C

0 0 c-'

(N

c'C

c

c

C. 0' (N c
C cC N (N c
C —C

c-n

—

(N

4 (N

c

CC'

C

—

C)

CCN C

cQ
—

C

c
c.

CCC.CCCCCCCCCCCCCCCCCCCCCCCCCCCCCC)CC

A15

C

•

—i

—

CT

CT

CT

<<
CT

CM

CT

<
If)
CT

CT

CT

CT

<<

CM

j'

CT

CT

CT

CT

CT

CT

CT

CT

CT

CT

v

CT

CT

CM

CT

CT

CT

CT

CT

CT

<<

<<

<

-ci

<<<

c <

-

C <

C) N —

4

C '-C
C
C

C
—'

C (N — C

0
—'

CQ C
0' C c
C

.

CT

(I)

CT

(I)

.-O

CT

CT

CN c C
C CC
C CC
C'tC) C
C rn C C
ks-'

C (NC CC— C

.-

5•

Cr.

5
—

>-

—

CT
UJ

—

I
F—

F-

LU

LU

CC
C

CT.

I

I

C.

. I2

ft U-

•

>—

C

F--

LI-)

I

F-

Z

C2

''—

I—

LU1Cr

Cl)
<C

.

Li

CT

3

•

CCF-

.

i—i

It;

—

—

I—

F-

U CT

.
cl)
—

C Ca

I—

C

I—

C

s)). LU

I.

••

F-

.,

•

S
CT

,.

Cl)
LU

u.

=
—.

If)

L

—

x I.
<2

1/)

C—

•
•

.

LU

2

F--LU

F—

I—

L(

(1)

LU F--

CI)

•

2

F- <C ç.

IL

•C

U

—

>(

C

Cl) I—

ft

,
<C

LU

C<
CT

— <C

.—

LU

>

LU

>C

I
2

C—

CT

C
il—lI

••

',-

i

IL
LU

F—

U-IC

CT

CTft

>-<CF--F-—

2

—

F-

•

(N

2

a.

C

IL L( CC)

I

CT

If.

F—

<C

LU

•

F—

C

—

I

a2

—

CT

CI a-. LU

CT

s-I—LU

CT

C

C

C
C
C

C

C
C
C
C
C

C

C
C
C
C
C

><

C

C

C

2C

C

*

U

C

C

U

C
C

U

C
C

C

C

**

*—L*12.F-*F-CT

*a*.—CI*—CI

C CI)

4F.F-<C*).<-F-<C
*2u-*ZLL*2w

,' ., ,. ,s

a * *I-'

C).—2.

,, ..

IL*(C

I-U

••

—

-2

C*CC

a

I.F-

...-'*C

LI-

C

* IC

<C

<C

F-H<CI)CCIU..CI<

2. -CI

C

><

C 2C

'—

—

1 IL F- CT 2

I.

•. F- C a F--

—

—

—'

I3
H-

i—

2

>

C

V)Li_WLL

LU (C

LULL. CTIjQ) CF-LLC

F-.2. C)v

C

<C

'—.

C LU 2.
—,

.j

-

2.

<. F- 2. C C
Cl)

—

•
i-.J

j

—

ft 1 a < a * *

•• F--

CU

—

F--

2

<C F- 2.
(I)

—

F-

2.

LL

CI Uu L!3U-F--C-—

IL

F-

F-

—

ft.

ft. F-

<C

C

I I

Cl
<C

LI-'

Z)I

U-

<DCZ2

IL!

F-

CI U

—,

CC

•.

•,—<LL tjF--)<F-

a CII

..

—ZC_LLcC.

CT

IL

U-!

,

Cl) CC

,. ..

.

(C

..
LU)

WW_'
E—F-)(

• CT

•.

.. •. ,.

I— 2..

.2

•
If)
CIIC)CI<[>CTCIC

U Cl) —! CT

• CT

<C

C

LU

CT

-<C

t.L-ciLL 'C—.-'CIC

CT—

I•
IL)

CI CI

>c

-

..

CT LI-

I
I ft I
I

C C —, <I C
<C
tJ

•

Z
CT

—

'—'

Cl)

U..

—

(C C —'

F—

><

a

Cl) LU

C

C
U — <C

IL

F--

..)

Cl)

—

,. 2 C)

I— Cl) LU (C CI -<

'—'

I

a ti

2

<C

uC

—J

ft C —

IL

v.

•

—

<C

—

F—

= C) c

I

a If)
2 —'
.—

C

—C

C

'

Y-LU<C

CTL>

F-- <C

c-- <C

c

2-

C C FIf)

—

>

I =z

2
>
<C

Z

.

I

1/)

• •. •, •• • •• •. • •. , •. •,

<C) U.. LU

LI-i

I—

C

,,

F- ._i

I

<C

—'

LI-

—'

LI
—

LU

>- a

2.

z
CC If)

LU

LI. CT

= It)

H-

W

F—

. 1) IL 2:

C

C C CLL

H--

C)

<

•V

LU

2. LU I—

•i ..

•

'.

C LU CT

C U CT =

IL Za

I—

,

Y-a

2.

H-

•

C)

" • . .•

.-

7

a

Cl) 2— —

C

w

I
LI-

it

2

I.

F- C <C) ft

••

-

w F—

I-

,• ,,

,

a If) — C

!

LI-

If)

.•

ci 2 —

S

•. '•

C

C

a CT C ,j
a CT — C IL

j

- -, a

CT.

,.

C 2. <

a

• >

1,

'.

.- C

.

,

•

. ,'

c

CT

LU

..

>

••

I'

***APPT(YFTTflN AND
IJSAGF

RFSTRICTJONS:

THE ALG11R ITHM USED TN

MISPLAY.

IS

A

'

IT Al lflR5

Rt1IJCHI

(1).

Y
I

RIT

OF

FOP

ARS ( XLD) ) SHOULD HF GREATER

.

C F) P

COP

SCALE,

.

in

0520
SL AOOD3O
S LAD OR40

A F)

SL

SL 00500
SL Al)OR

PRFIISJLIN fly, FPS, FIVF, ONE, RLDI;2, VLOG,
T, TEN, TD, UNIT, YHI, XLI". Y, ZERO

75 ()

770

SLAUO7QO

S L AD

SL A

SL A0fl740
SL A0075()
SL AD2760

:SLADD71O
S LA 00720
SL AD°7 30

SL AD 0690
S L A 00700

SL AD 0680

SL A1)O5 50
SI A D( R 0
SL A1)O(7O

(S

DOHSLE

AGF 259.

SCALE

),

LEAvES,

POINI

RASFS.

5..!. AND KEONMAL, R.A., 'THE CHOICE OF ORJCJI\I AND
GRAPHS' , .UOIIPNAL OF THE ACM, VOL • 1? ( 1965)

FR F NC 55

Di XDNF,

ASS (XHT

HP

El HATING
ERR HP' • ) -

TH-

FOR FRRORS

i 'iy'

20
S LA 1)0

SL AD0(30
S L ADO 40

10

S L A DO £

SLAF)O5EP
S L Al) 0590
S LAD C) 00

5

LAD 1)50 Cl

SL ADP5 10
S L AD 052 0
SL AD1)5 30
SL Afl05411
SL ADOS 50
S L ADO
0
SL &i)05 70

S

SL ADO4ÔO
SLL\1) 0471)
Si A 01)481)
S L AUO4 91)

SIAI)fl45fl

SL AD44O

SL A00430

(S

C

(1)

(

/ MAX
)O* EPS.

(SCALF

THAN

(S

(S

l'.iE

DISPLAY.

IS FOUND IN

TOLERANCE RHICH ALLONS
NIUMBIRS

'0'

o AST
DECI NAL
T'-1F
F-IDlE

MACHIMF—DEPENDFNT

INHERENT IN REPRFSFITT

EPS

(-S

C.

THE

ALL C1J\ISTANTS IN! TIAL 17FF) IN THE SIJRP0ItTINF
F' TI)
FOR 000RLF—PPFC I S1ON
SHOULD HF HAN0Fl PROM
C flNV ER S ION.

IN ADDITION,

I

FliP SHrCFSFUL CAl CIII ATION HF

C

FOR

i1

Al_CUP ITS
NIITFS
THE SIIAPOIFTINE CONTAINING 'CUP' IN THE FIRST THRFU
COLt IMNS
L HFI_P THE SFR I N CONVERT INC THE ROt TINE FEllS S INOL F
TI) DOUBLE—PRECISION. 'REAL PEFINITII]\I CARDS MUST HP RFMOVfl.

lIMPS IN

r

(S

o

\/AI_HF

XHI SHOIILT) RE DISTINCT FROM XLI), AS THF SUKRDIITINF COMPUTES THE
BASE )O flGARITHM OF THEIR DTFFFRFNCE.

FR/\CT ION TM HF AFFECTED BY 'REPRESENT AT ION

r

1

FINDING THE SCALF FACTOR

PERFORMED HERE
ANI) lEAVES 0P ASTFM—/\ND—LFAP

*

OF

NUMERIC /'I

FROM THE SUBROUTINE SLOSPY.
THE
LOUULATTUNS
ARE IFCSSj'RY IN THE ACTUAL COMPIJT INC OF THP STEMS

SiSCAl IS (ALLFD

pflFR

OR

C

(S

C

(S

C

1

C

r

C

C

C

r

C

C

C

C

C

C

UNIT CONTAINS THE APPPfIPRIATF

CAL F CONTAINS THE SCAL F FACTOR,
LINE, TN THE DiSPLAY.

.

C

C

C

C

C
C
C

C

C

C

C

C

C

10

COP

=

=

CONSTANT

1O.00

:: :

OFLOAT

(

Dy)

:

: ::

:

ALOG1O

:

(K)

Y

.CT.

•LE.

(

Y

(

70

in

•L F

IF

=

IF

Y

IS

IS

(

RLI1G7
ZFRO

RLI]G5

IN THE flTSPLY.

GO TO
5

IF

(T)

FLI1AT

)

TI)

I0

= ?
CI) TO 21)

IS

Ci)

NEXT CALCULATE SCM.F, uNIT, ANI) IS, THE CORRECT
rtiLTI PLE OF uNIT TO DETERMINE THE VAt_HF OF EACH LINE

::::::::

—

/

XHI — XLI))
FLOAT ( MSTS
IFLOOP SIr'lHLI'TFS FLOOR FIJ\ICT JON
( (

:: : :

LI NFS DETFRM i\IF K, THE CORRECT EXPONENT

THE FIILLOHT NC
OF TO FOR uNIT.

(FTVF)

ALI)G1 () ( f"iO

= APflC,10

:::
= TFLI)flR

=

Y = T

K

:

T

RLI)r?

R'flr,5

:

:: : ::
SET EPS, MACHINE—DEPENDENT FIlL FRANCE
FPS = 1.flF—

I1\IJTIALIZATII)N

(I

Pi&AXI.
TI)TNT (fly)

(flY)

PARS (DY)
PLOG1I)

TWH = 2.IFO
FINE = 1.OFO
ZERI) = 0.OFO

FI\/F

TEN

::

INT (flY) =

FLOAT (I)

COP
COP

:

ALI1G1O
AMAXI (PY)

COP

=

(fly)

(flY)

ABS

COP

r

S
PRECISION ABS, ALOG1O, AMAX1, FLOAT

D1)I.IBLE

COP

..
,

450
AD090

A')i09

LAD 12 .0

S

LA 1)1 ? hO

SLA')i 250

SLAP 1240

S

S L A 1)1220

SL APT 210

SLAP 1201)

SLAD1 1QO

SI_AOl 170
S LA Di]. B 0

1.

SLAP 1 ' P

S LA 1) 1140
SLAP1 150

l2

SLA')ll 30

SLAP) 100
SI_ APi 1.10
SLAP I

SL

SLAP lfl4fl
SLADIO5O
SLAP 10 hO
S LA 01070
S LA 1)11) B 0

SLAF)13O

SLAt) 1000
SL AOl 010
S LA 1) 1 020

SL

SLAI.)OPRO

SL ADOQ 70

SLA00060

S LA ) 09

SL A'8 91)
S L 41)0 P00
SL 41)0910
S LA DO 920
SL 400930
S LA 1) c q

LADflRA0

S L ADO R 70

S L ADO .51)
S LAD OR 0

.

.
4

'
'

—

l

—

C 'C C
C N 'C C
C 'C
C
c L( 'C C
C

C

O'C-JCfl

I

C

— "
C

—

—

—

—

—

4
<

— C<
-.
C

—

C <<

C

<<<<<

CC

C

—

—

—

j

-,

C
C
C 'C C
C sc — C <
C 'C — C <
C LC C <
C
— C
_!
c: LC C<
C 'ON — C __!
C Lf\ L\ — <
C4 — C<
C cc —
C: c'j

C—
CC

:

C G $ ,- n
C 4 C
4 C<
4 C<
4 C<
4 C
C

CCC

-

4
4
ç

r'

C

-, — C
— C
C
C

r

çc —

c. — C
c' C
cc — C
C— C

c

C(4LçCN

CC

CCC

CCC

CJrn4I'Cr-tC

CC

CCc

CN

VDVJCT

J)

'I-)

l1..

'C

C

LU

C a U-

LU

I-

1:

H-

CU

S

S

U U)

CC

—

I
><

-

.

C

>

.

—

LU

I—><

C

I

U)

.

CJ
><

<

w ZZ

—L..j

I— —-'

cr

•.

.
CU

LI

5: LL

C LU

7wLLWj_( z<<

.

wz CC '<C LLJ

C a wN

(J C 1L

-

u C -,

NJ

:; f- fJ

.

C

•

'-I

U)

LU

f.... —

I-LULL

f-

..—-.,'

C I—

ULf LU

J)Lc

LLLj

I
—

>1

LU

>(

LI)(J)

LU

LLC

C

—'C

C I—

LU

LU

LU

S

(S -.--, C

2+

cc

Ccc

—---

C (S

•C
I—H-

LLLJ)

a;

U) 'C

(I)

(J

7;

cr.(/C

U

—ZU**w

LU

•

)(1

LIC

I
I—C

I
_'V )<2

*
*

I—C

,-

>

:

'-—

U..

—

*
*

U..

CT

'-

C

I—

•
LU

—

UX

LU

)<LU

•

I

H

2

C CT

(/)

IL

U U)

=

•
I—

.(
—

•

—

..

LU

—

••

<

LU

•LL

U)

••

LU

CTL)C

)< -I--2

•.

2

IWW

i

II

f—

II
II

w_ I—

f-I—Il

III—

CTCC b-

CT

C

CTCC

'

C

U) —

II

II

---'

u.U

Cf

1•

—

II
.i

II
II <

U.J

.t C

•.

*

II

If;

LLC

LUC

a,

-i'V—f-

S

II

Ij••CZ

••f—H-IIII

I—

C4

Ii
C
w

4

CC

—

-,

I—

<C

(cCT —

><,< —--

ii
• z•
LU

—

C
'C

U_ I— CT

(\ U

•

—

z I-

2]z LU

C—---*ll

<C C_ILU'<X

C

C
LL

•&U

—...-+

—.

.Z c— U.. I— U_ C

CD

*

C

*

LULL

.
—

C

'-'

2C

CrWw

++

LL r'.-

U

—

CC

I-

+

-i •

<CC

I-

—<I—

t
LUw

2w

I—

*H12—'

C

II

I—

LU

IL

U.LJ

" .. •

2(f4

ZC

.

CT

.3'

C

C

cc

C4

If,

C cc

C C"

O

C

C
C

C

C

C
C
C

C

e

C
C

C

C

A19

co CCCC
—

'C .-h---Nr-———

CCC

c/Dv-v)v:

.
-J

(t

r
LL

LL

, 2••

cx

w

.

*

•

w ••
Z
.. W

cc

A20

.
L

c C\ 4
—

<Cr

—, U)

I.')
LI)

C
CC

LI)

11)

LI)

,
—

Cr

LI)

LI)

LI)

Cr<

LI)

Cr ,_) LI)

I

Cr
._.__I

ac-Cc

ç

ç

c N ((
c 'C çC
c If\
ccccC
Cr

(\CI)

LI)
U)
LI)

U

LI)

<Cr .___,

—
(I)

— U)

•..__'

LI)

L/)

(i)

LI)

LI)

LI)

LI)

(I)

<Cr

Li:

<<Cr

Cr

<Cr

LI:

LI:

—...—'

<Cr

<Cr

LI)

c

C
C

C\

<Cr

Cr

c

C — C')

C\J

L

cC cc
('S

C a- C\

ca

C\

C\

C N C'
—c

c
C

C r'

o

C m (N

—

LI:

Cr —

(f(

'Cr

<Cr

,—

-cCcc

C' — CrCc
c.c C'.
C a'

—

c I.c
u'

C\

u)

— LI)

tj

Li)

-Cr

Cr

Cr

Cr<

Li <I

v

LI)

—

<Cr — LI

—

<1<

— (I)

'— LC;C

'

C. N
C —c
C)

c
c—..

Cm
C
C

cc 7

c

C a- C
C
CNC
C —c c.
C c C;
,j-

C

CcCcC

cc.

c cc
C—

..

>_

I

I

LI)

•Lf
>

Cr

Cr—'

Cr

—

.5 IL L. LI:

LL

LL

——

>- -7

7

ti

LI)

<IL

I

it C

—

a im-

2

.—

C LI

3- Li.
—

C

•

LL

I
C

2— —

•) 2

'I: IF-- F—<

C LI.

<

>

F-

LI.

C

U)

...7

•.

v-i—-

'

LL:

L/)<

2C

F-

—'

<iF—

-,

2'

F-—

—'.

.

Li

2

C]-.,

IT

it'

•
•

—

I—

Li

—

F-

wC

U-,

2
•

LI)

LI)

F-

U)

—,

IT

•

Li

.—.

Cr

••

Li

WF—

11/;

LL+

—

L1

Li)

F--

<>

C IL2 a:

••

I

—_'

a)

—-7

—

•

(J

—

I—

LI.

2
F—

—

.

am—

—

H-

2

I—

CI- H-

CLi:I/)

LiC;

••

,—_

7
•-

•-

L/m-jC

2

>1

3 LI

I—

U:

Li

•.

(I)

—

C

Li

u:
'—

22

IL Li;

w LI:
I—

Li a:
u) S

2

IL

LI

C

(f•

Li

I
—

LI:

I

.

2'

2

—

—

)(

*—WCr

**

••

C2*CL') C*w_*LL2*U.

F-—

<—<.*F-

Li

I—

I

—

(.1)

F—

—

*

2

—

LI)

**

2'

Li

**

2

LL

* **

<i 1w

.-

CC2.

it

—,

F-—

a
a

—

*L

w*C

W

.. •.

C
C a-craC a

—
F—

C
3.

.-2

—

F—E_<tLL><CU.LLC2

• 'L:2
—

—

2'
IT,<

2

2

F— LI)

—

3. 2'

5

C. 3.

I— LI:

C. C>

<25 —<V

2 C (2

2 C (2

I—'

(TC'

. <I F- 2' C C

•

U.

•

—2

LiLL

ti .3. Cr a Cr 3-

s—Ccc

2F--

<C F--F-

7

Ia

Li cc
2' — 7H-C

I—

(I)_'C;

Li F-—

<

I—

Li Cr Li

I

,

)—

•>

C

I—

LL

C;

...—Li

Cr77

—

•

2'
C

3.

F—

I—

—,

Li

2

U)CLi2

—

—I

Li

1/)

•

Li

••

p—'

•. T

•

h.-.

..

Ii

H- 3

7 Li

< C'

'2

U-

Cr

•-

LL

s—i

—

—

Li

.—'

L1.

21

H- 25 02 CI

ft

<Li

H-

2

C

I

F—lI

—

Li:

Li

C

it 2

I—

LI)

LI:

•

.11

2

1—....)

C Li: U] C;

(I)

—

I
Li

C; IL ci:

S H- C F—

2

'
I

>-

3

V
—

F-

F- 3-

j<

72

C7'

U.

Li j1 F—

C2
—

F—

}—

U.

2

—

2 3 au

—

C>-

2.

)< Li.

LL'

F—

F—

•

••

2_I

1I
I

a' Li] C. Li

2'..J

.u-;

L/)

.r<tiC;

2' C

Li]

•

)<I

I

222

2::

-7 —

•

i—

•.

F-—

w

Li
C IL

2CC Li

2C;

2U

.
0
2 2. =

I

u

Li

—I

I
2

•

Lr3.

•.

U;F-C; 2' U. 7Li ILl

F-3-

< —,

Li

—'w

wC

—

w

U:

—

ZIL

.Lf.

U) 3.1/) jLL

uC

C 2'

>-

2 Cr .i>-

1'

2' 2

12

LI:

S
-4

C

2.

LI) —

2 C' LL
(_.)

H-

'

Cr

..

IT

> cr

sj •

•_

L-

Li C

Li:

—

IL

C 2'LL

I

Li •? ..'

•

-f F- 2' LL

LI:

CC

21

LLW

.-

jj C

'If

LL F— IT

H----

Li >

Ic

Cr I— Cr C.

IL>-

L

•

—2

it C < > < H- Cr C

'

I

c

.- U)

(1) —

)w

f—U

F—

.

•

C

C

C

C

C

C

C

C'

C

C

C
C
C

o

(2

C

C

(2

C
C
C
C
C

C

C'

C

C

C'

C'

C'

C

C

C'

rn

—

x

I
L1UILIL

(P

1/)

<

<:

<<<<

(1)

N

oN

c
NN

1/)

If)

L/)

(P

<

mN
(P
<<<

(P

.—

(P

<

If)

1 'C
C/)

<

.

It

It
L/)

It
It

It

v-:

It
L/)

LI)

1f

(I)

<

<<

<<

p
It
< (P
< It

<

j.,jILij

It
('

<

'C 'C
u' 'C

4-—C
C

'C

C 'C

if'

u-

-

LC

.

N 'C

N
CN
0' 'C

c\j N

-j- N

'C N
if. N

<

ILILILILILILILILILILILILILILILILILILILILILILILILILILIL

A21

c
N

c
c
C: C

-'

C\'

c
c-

c

c04
c 'C

4CN4
iijIL

IL

cCcCcCCCcCCcCccccCcccCCcCcCcCcCCCcCCC

4-

4

-

C. if.

c

c m 4-

C
—

(2 '1

W

F-

<

W

F-

I—

'—

IL

C IL a
C C' 'y S 2

Ii
CC

c

I
IL

F-

1/)

—

I—

IL

I
U)

IL

F——'

•

C

L2

L..

—

It

<

IL:

—

—

if <
It

5

Z

V)

•>
.—_t

—

•_

a

<

t.j.

•

s—

•

C

.. C

'

11)

s-,..

IL

'

.—.C

722

i<
(.

—

2'

-

IL'

I

C

F-

LLJ

2I

-

LU

W

S

LL'-

CCIL'

C

a

IL
F-

UC

W

ILF--

.
IL—a'

•_'

S

C

F- (P-C 22 (2IL C

•

C

if

IZC

C:

z>-Ca<

aIL

if

IL

<I 2C 0)

2F-2<

P-MS

<IL-

2<

U.'

—,

<

•Z

—

a'

(2

2
2

(2

—

C

2

2. C LL(2 F-

F-

— 2)1

I

(_.'

LU

.4

C'-Jw

cC>

a

—'

2'

21(2 —(/'C

—

—'

*

*W.4_'>2

—,

—

2

*_<CLL2*(2I,J0.

*-CC: *_'CF-

—

*

*(PSC*12-C

.4

(Ti

if .4

F-

C

2C

F- C-

'

<

—

WUjF-

*<

(I)

LU

0) (2- LI)

—

IL'

> .4 U. —,

a 0.

i

'-a IL

cf—'C

.4_It-

.4 Li —

a
'—

C' 2'

a C C -! <.
—

IL
F-

F-

Ia
I—

LU

i

2a

I•

—

F-

F--

'1

—

.i:

-a 5 IL

C CL

2 LI IL

F—

F-CC<

2

•.

>-

2 .4
—

—

—

IL

F-

I/i

—,

F-

CT

IL

C u_

IL C <1

<(2

2C C
C it

I

I
SIf,IC

CIL'-.

F-

F-

)-

ZIL

(2IL'_>IL'I/)

C-

—

F—

•

< C It

C

C
C
C
C

C
C
C

C
C
C
C
C
C
C
C

C
C

C

C
C
C
C
C
C
C
L'

L'

I'

C

C
C
C
C

C

C
C

C
C
C
C

Li-'

('

—

2'

2' —'
2' C Li

1 F-

F—

Li-

If)

Z

—,

LU

< F- 2 2 CC I-

i

.4

—

<<:11(2

<

L'

'

2>

—

if< 2CCL/i

ZII;

L/)

ILL/if

cii<

<(IcCU'

<lU.

(/

if

-

CC

fL'

CL !j,

•

<

1 F-

aCa'Q-

>- <I XC

C<

>- <7(2J

2
U-

IL' IL F-—

IL C

2CvCW

F- CaC2ifiIt

-

('il—I LLCF-Z

C.
•.LL

z

>

F-

F—

Li-

a v

CL

I
C
C

2<_U

>-

F-F-aC

I I

2<

iLL<C

C- 2(2'

C If)
IL C

—,

1
'-'

Z

>—'

LLCZC

ILZ C—

IL

IL-

IL

I

C

—' <(2

(2

—

'

aW <F-

C &'(J

2 '' —'

C2
—,

If) IL

WI/i

—Z

IL_!(/i2'

2_'

WLtF-GULL.

)2

u

L/)-IL

ii) F- 2

ifF-ILI

F- 2' (2:2 C

IL'L_L'I

<2(2-

F- -' 2C

IL IL

C

F-

—

F- iL' 2< IL->

WC

C

cc

I
U-'L

IL

F--

CLF-

<C

a IL a

C

—v

F-- iS2

I

If)

I

2

II

F—s

IL F- <.

CF—

c-

<

2IL

IT,

2

F-

I/i

2*

CL
<Z—'

IL

CC\2'

CL

F—

IL

CIL.F-> —c-<

C

F-

CL

2'
F—

,

F—

C

cc

3____,

F— LT

—F-

F- (PC

—

I—

24 2—

=

<

•

U.

I.—

U'a r-..(2 —

C'C' -2—

iTj

rF—:L>

U-

IL

S IL'

I

a

'- •

Ci CF—

-

(PW(2(T

1'

•

't

vi7C— C—'

U

'
•.Ci.

LL

>- <

C/i-

IL

<(2 1—

2: 2

—

'-'

2'

if 2- (22-C C

—a

ct'C<r

—

a s C Z yc •
w—

—

F——

< I— 2 2 C

2

C

•2
><

C<

•

C 1-.

2 (2 C

C-

F-

•
—,

—

2 (2 L.

I—

I

I
—'

>

I—'

i/iILCL

72(2

<I
..-J

a'

C 2'
F-_l'If

<. C

•

IL'

IL if) =

I
'c

It

• >- <

z

C F-

IL

C

F—

LL

if) 2Wi

2C

F-

•

—J

IL

It

I I-

cc. aC- —

—

-

2
CL

F-

5

•
IL-

IL <I IL

C

—

F-

F-

I

I

L) —

IL

I

C-

IL C

(P

C 2'

I7 I ' I

LL

IL_S

a

2

IL

F- (P

C F- <(P

U-

'
—r

—

—1

C'

S C

<1

>- <

--

U. ct-

U..

2

C- i—

I

a.(2-ct

•

L.)-

—

a - C 2 if 5
'

IL

cx

I

(2 IL F-

.

IF

C

.

C

C

KS = (F
KST = 0
KLT = 0
FAR = C)

—

:

KI.1

C

)

(I

•NP

•
7

KSF

TARS

::::
=

10

'AEF

(TNT (CX (1IH'I)

PAFCAI_cjIF_fTTON
DFTFPMTNF

/

X

)

([)
Ti)

I

/

0

I

[IS

:

: :

:

/ FIN!])

SCALE)

(ImP
AS))
IRE LINE

::::::::+

1

:

I

—

KSI

:::

7Ffl

tQ

(N),

AND THF FIRST LFAF (KLT )

Pfl

)

TO 20
::::
STEM CAl (1)l L'f TON
= I NIT ( X
LOW)
( fli''P +
EPS))

i;ii

flfl

()

(TI

=

RS1 = KSE

KS

K SF

:::

(

<SF

(

PET FRINFD.

C

C

TH

:

FiIT.

FPS, MACHINE—!)FPENOFNT TOLERANCE

FIRST LINF (KS1

FT

::

l.flF—6

FPS =

.Ffl

:

ONE, SCALF,

: : : Cfl'.'STANT INITT ALT ZATIOF'

C

C

C

:

fl'\IF
7FPI1
: :
: :

:

IAKS (DY) = 111AkS (DY)
J fi T
( V)
1)1 N T ( P y

COP
CO P

C
C

000FLE

COP

r
fly, PS,

II'

iP)

l

005

1)

Fin

C

n
.0

F ii

SL AFT 260

S L A F 1240
S LA F. 1 25 C

SLAF.1?30

SI_A F 11 72
SL.A.F1 180
S LA F 1 190
S LA F 1200
S L A F 1 21 0
S LA P I22C

SLA

SLAFI.)

SLAFI13O
SLAP 1140

SLAF112O

S L A F 1 11 0

SLAF1100

S LA

1

SLAF 07fl
SLAPIPRO

SLAP]

SLAF 1030
SL AF 1fl4
SLAP 050

1

SL AFI000
SLA
(Ii 0
S L A 1020

c

S LA P fl q 0
SL A F 0 q0

SL AflQF0
S LA F Q 70

S LA F

5

S L A F CU 30
A Al) Q 40

SLAO2O

1)

L A F 0 $- AD
5 A P 1. Q

S

S A F ii Q 1

I

fl

SL AE'" Ff1
SLAFOE7O

M5

SL AR'qnfl

l'

ERiIS

S LA F

C
C

I

FPS IS A MACHINE—F)FPENDFNT TOLFNAI'JCE :IHTCH ALLilJS FOR
INHE1EN1T
REPRFSPNIT1I\IC, PFCTLAL NI[JAi 05 IN ' kJNAIY' FASI—S
P
—DIT \IF
(TI ALLIJIS NIOHI y TF-4F LAST FIjIJR
15 [3'- iRE f-I (IA
FRACT(ONJ Ti AD- I FF1-C IP ) KY Pk-PkF-SF\J, T TON P-lPF

I-

C

C

C

I

C

(;

r

r.

(-

r

C

C

C

r

C
C
C

r
r.

C

.

( 1

)

1)11

1)111

1.

=

=
1

= KL1

KS1

•0.

—

Fr

AIIJH

=

'S

1

(

N XT

IF

F (1

1

=
(

Y

+
1

KS =

(

l_

P

I

ISTFS

)

1.

,

•

IH J
• 'i F

—IS

ZP

P

)

CI I

T1

L1NF

CALCOL ATFS THE

THP CI1PRFCT

.SFCTT fIN'

1

(I)
OF

40

OF TH1-

lJ

L

EA\/ES

SPlAY KY

AOl)

POSITIVE ANI)

10)

P iA I " INC

ArllHST KS TO ALIGN LABELS

=

—

NPO,ATIVI STEMS
KS
(—10) )
•F0.

(I)

(K5

/ Ifl

2, NSTFHS
+
IS
(I) = KS
(1) = TARS

PLACFS THFM UI
ADHJST JNC I Pcr\IT.

HP

!F

I

:::::::

LFC'IT

lAPELS

TSTFiVIS

30

lS

THR
THP .STFMS AND THE LABELS A<F DFTE0iNEI)
BY
INCFMFNTTN(
FNTRJFS IN THF AP7AYS ISTFS AHF) lABELS,
AB-l.
THI FIRcT STFr ANII)

TLFC\r (1)

LARPL'S

ISTEMS (1)
LEAVES (1 )

V5
3() CiThTT\IllF

20

::::::::

LAB = IAPS (KSP

KS1
10)
Tfl
I
AI.I_1)kI F0' —0 c.TFr
SURTPACT
GO TO 70
ZFPII )
IF ( Y (TLOH)
—
=
KS)
KST
KS = KS — 10

.
LA

1

35 0

1450

20

30

5

1

F.

in

SLAP I F7
SLA1 FBI)

S L A P 1 F 51'
Si. API F 6 i)

Si. AF1.F?'
SLAF1 F311
SLAP1 F40

SL A P

L

SLA P)570
SLAP 1 580
SLAP 15Q I'
AF1hO()

Si. AF1 540
S LA F I S S
S LA 1 F

1,

SLAF1

S L AF

SLAP] 500
S LA Fl 510

5AF140

SL AF1480

SLAP 1'6()
SLAF 1470

SLAP

SLAP) 440

Sl AF 1430

Si. AF1420

SLAF 14111

SLAFI
SLAP 1400

n

AP1F0

S L A F) 372
Si. A F 13 80

SI..

S LA F

S

1 20
S L A F 1 330
Si. A F 134

S

LAF 1 00
S LA F 1 310

AP128°

SLAF1 ?Q0

Si.

SLAP) 270

S

.

C

C

C

51)

41)

=

/

TN.!T

KSL

(

1

:

I i\'l?P

:

+

11)

H_nw +

LAST

=

.T.

)

I )

K

I

TNF

/

n!

)

KS
+ I

IS)

SLLEAF

(

.ANO.

KSP)

TI_F(',('T

0

—

)

.GF. 0

P!AC,P '_PA'IFS flN LIN'FS

—

((KSL

( T

KS1

JLFCr\!T

IF

=

LEAVES

KL

RETuRN

EN1)

=

STFw CAI_CI)LATTON
: :
::
( ( X (I)
( flN!F + EPS )

51)

00 TO
/

: :

j

:

/

J5

= J +
1

uNIT) —

SCALP)

LEAF fA?rtjIATJ(U\I
: :
:
EARS (TNT ((X (1)
lONE + FP5)
IF ( X CT) .LT. 7FPI) )
KS = KS — I

KS

KS?

:

0

KSL

KL = 0

KS*
10)

SLAP 1 On
1)

A P 1760

181)1)

1

870
8

LA F 1 Q 1)
SL AFi0fl
S

SLAP) 881)

SLA P

SLAF

I Rio
SLAFI 820
S LA F 1 83 C)
SL AF1 840
SLAF1 850
SL AF 1 R60

SLAP

SLAF 1770
SLAP] 780
SLAP 179fl

SL

SLAP 1720
SLAP) 730
SLAF1 740
S LA F 1751)

S L A F 1 7)

SLAP). 701)

.

()

5
A2

C

C-

.4
C

—(

Lt

C
L.

4<

I

4

444<

C.. XCII 4<

C

-I

C C.

. r' c

-C cc c I
cC I

N

C IX;

C-cC:

c"i

—

11111

c
<4

LI)

LI)

V
U)

if)

U)

U)

t1I

_, ij;

—, LI:

__t

-

-, (1)

_, LI

CCC c' ç( C III <4 _, LI:
C
C 4 LI:
._j (I)
CC
4< LI:
C r'

C

c

C N- C
C
444

<4

11111

U)

V

LI:

LI)

-,
-' cI

cC

LI)

Ci

4

(I:

ti

LI:

(

CJ;

&

LI)

(j

C

-I (1

—

C

—

—

—

—
CCC

CC

—

.

cCC

tC

C LC C
C .j c
C r'j

Cm

CCCCCCC)C

CCC

CCc
C CC

4

C

CCC

c

1111111111111114<4<4<<<<<<<<<

C

C

4

-J ti-I

C

CCC

C
C
C
C

I4

C. CL.11111<4
C:

C

C

F-

(I:

U-

U.

U-C

F-

I—

LT.

2' LL

I
.. .. .. ..

LI

w > <I LI.

F- 'J'

I

LL

•
21

I

U.

•

-

_2U.

a

LL

U)Cu zU_>——'4

U-

a

F-

CI

cc-

I

—

4 '1.'

—LcI:

U.'

F—>

a'

i—F-

-,

U-,

I
F-

I—

Fa'

U.

>-

—

LI

'-C

2

F-

2 2

•(2

•

fl

LI.' I'-'

2'

—

•—

U.,

U.

LI

2'

CU

I

4-i---

.1

4 I—

>-

a'

p

. 4

.-

LI..

•

2 2'

2

•

—

_joa'—

I

• LL 2

F— (L2

LI)

C

—

a•-'

a

1)

4.

Cl)

—

..

••

••

I

U.

F- (2

U-

F-

I

-I

2'
cti? IX

—

iii I—-'

:7

——

—

F-

• 2
z

-

.. .. ..

CCC

U.—

—

..

'

4

—

VC

I

LI)

F-

2F-0-C

4

F-

—

p

J.

U.

U)

I—

LL'

4.

2

C

I-

LTj—

a4

W'_1C

LL

2

Cf F-2

U)

2

'
—

:7

>0-

_J

I—

U.

_J

U.'

ci-

CJ)UC-

7

—

C

If. U.

4.

C

C

C

'.L

4

—

••

0..

i-

C. 0-

•. •. •.

•.

U.

LL

••

•.

*10.*F-<

••

U
C
C
C
C

C

C
C

L'
U

C
C

U
U
U

C
C
C
C

C

C
C
C
C
C

C

C

Li.

C

C
C

LL

LI)

4,
_—F-

C

U- F- LI)

2' C U-

-

LI

4.

'—

*

C

*
C2

U

U)

*

C

—

•. ..

.l—

IC

*—' *2 *—

*'

<T*l—*l—LL*2*2 a'—*l'—.

ti

0)

—,

*

C—*(2<

2

ED..

—,

— *C*(2

2

F-.<a'WCa'CCc

LI.

4C
LI:

.2'

-

C

.. 2'
<

I——'

* * *3-

LI)

2' a' 4. 3. * * * * *

i—

C

F-

L
—C

a4
—

(24

F- LL

LI_F--

F-

cc

CF-a

CC
1—2'

ILL

LLI—

LI.:

Z

•
<
—

U-

Li'

LI.

U CCI—a a'CCCY0-

0..—= U—

..

2'

•
p
a'

F—

•
a

LI:

•W7U'
2—72

<CZv'

•. •.

C

a

<

U.

2'>

a' a

IX

C LI)
if: U

—

U.

W

—

•. LI

LL 0..

I—

u- C

a' <

LI.

C
—

2'

4.—

2'
"2'

0-I

p
2 2'

LI

LI

I)

C

—

•. ..
..

F-

F—

—LI.

C7
a.
U.

•

F- U) 2.

Z -,
. 2' ti
L/'

•.

a' C (I)

>- 42C-' a

a

-'F--

><'I a

F- 0.

F- C

C...'

C '-'C F-

U-

IC

C >4

0-

7C

4

4 w

>-_f

LL

n

—

F-

LiZ

<2>-

U.

C

4

—

F- LI

2' C

U/

F- (J)

U)

p

C LL

U)

.. •. .. .. •. •. •. •.

•

C

(2 U.

LI.)

•.

—

ILL (22

2' C C

I

U.

C

2' U. -,

CwU..I

'

F-ti

—

l—Z

.

••

(22 z—2' LL

LI.

I

II F- (2

IJ)Lf)

..

C 2>- 4<

•

w i— U) zU-u.

I

2

C. LI..> I—

—.—

. . z Wi :: •

••

LI. <I LI.

(.f• 2'LLZLL

—

3-

II.

)X:

I-

F-

•. .. .. •

-

LL

C I- 4.

••

0. (I)

-I-

4

4 F-

2.

C>L)

<

—

.. .. ..

.-

U- F- I.')

::

H-

t-,._

..

I—

F—

p

••

-

•

.. .. ..

4

LL I— LI:

. LI ):

..

C w C U (2 U.

I

F- LI:

?

U-

LI:

.. •. •. .. ..

U.

..

U)

li-I

P

C

.

C
C

(:1-)

C

C
C
COP

C

C

r

C

r

C
C

C

C

C

C

c

C

r

C

C
C
C

FOP

FACH DATA V./\LIIF

NRI

MUST

MUST

SPLAY.

NIJMSFR HE

IS C.ALCIII_ATEI) IN SI_OSPY.

TO THF

THE

BATCH.

PUT.

USAGE PFSTkiCTJt1RI5:

HF 10 FOR
THE

DISPLAY.

DISPLAY, AS

ITHM NOTES:

)

Dy, UNIT

(DY) = IDABS (DY)

PRFCTSII)N

:

1

::::

F

::

0

:: ::

::::::::

.

flfl LOOP PDR THE DISPLAY

2

PR INTEOPACE

1 1) —

THE

L IN

:

::

:

:

WRITE (IDUNIT,400)
UNIT
KL2 = 0
KLE\!D = 1)
IPFPTH
ILOW —
::::
DETERMINE LFWID, THE MAXIMUM NUMBER OF LFAVES EI)P THE

TABS

DOUBLE

LINES IN THF SIJBROHTJNP CI1NTATNINC 'CUP' JNI THE FIRST THREE
CflL 1MNS WILL HELP THE USER I N CONVERTING THE ROUT INE FROM ST NOLE
TI) HO1!RLF—PRFCJSIDI\I
'PEA' DFFINITJON CARDS MUST RE RFJnVFr.

****ALr,flR

IS

CALLED BY THE SHBPUHTINF SLOSPY.
IT USES THF 01)1 PUT
liE SLSCAL (''NIT, AND \ISTEMS AND THF STEMS, LEAVFS
, AND
LABELS PRODUCED BY SLLFAF TI) PIRINIT THE STE N—AND—LEAF DIS-LY.

SLPRNT

iNTl CONTAINS THE APPROPRIATE PHWER
NIT IS COMPUTED I N Sf. SCAL

**APpIJCATjf]N AND

IN

1]1JT

ELEMFUTS IN THE DISPLAY.

TO THE RIUMBFR OF DATA VALUES

RESET

RESET

1)1

HF THE PR JNTED

THE

w THTH

I

NSTEMS CONTAINS THE NUMBER OF LINES FOR THF
COMPUTED IN THE SURRiIIT INF SLSCAL

NN

N

LINWID MOST RESET TI) THE PAI;E

010 IT

L A H 0750

SLAHOR3I)
LA HI) 40
S

SL AHO78O
SL AHO7QO
SL AHI)800
S L A H (' 811)
SL AHO82O

SLAHO77O

SL AHñ7 61)

S

SLAHO73O
SL AHO 741)

SLAH720

SL AHO700
S LA H 0710

S

L A H 1)680
S L A HO 690

SL AHOh6O
SL AH0670

SL AHfl 641)
SLAHO65O

SLAHO6?0
S LA H 063 0

SL .AHO6O1)
S LA H 0610

S LA H 053 ()
SL AH0540
S L A H 1)550
SL AH0560
S LA H 0570
S LA H 05 80
S LA H 1)59 1)

SLAHOS2O

S LA H0510

SLAHC490
S LA HI) 5 or)

SL .AH048()

SL AHO4S()
SL AH0460
S LA H 0470

L A H 1)430
L A H 1)441)

S
S

.

r

C

r

C

r

.

10

*

*

*

*

*

*

*

00

(

=
=

ILFCNT
KL? +

(I)

(I)

IIFCNT

•EO. 0

(I)

)

;i

TM

7()

(I))

fl
1_INES WITH

)

)_A\/ES I)N THEM

: : :

(

(

IF

IF

IF

IF

(

(

(

GO TO

IF

KS

(

j)

)

(j),

.F0. 4

1

KL1, KL?)

=

KL1, KL2)

WRITE (IMIJNIT,513)

J

WRITE ( IM(JNIT,512 )

J =

—O

STFM

::::

IF),

ID

WRITE (IMt.INIT,51!)) II),
, J = KL1 , KL? )
.MR. KS .F0. 8 ) WRITE (Ti1)JNIT,515)

(fl,

5

•FO. 2

(LEAVFS

KS

(LFA\/ES

.E0.

(LEA\/FS
KS

)

SPECIAL ARRANGEMENTS FOR THE
KS .FO. 0

40

Li),

)

)

KS •F0. 0 ) WRITE (II1tJNIT,501) ji), JSTFM,
(LA\/FS (1), J = KLT, KL7)
WRITE ( IM)INIT,505)
KS .EO. 8
IF ( KS •EO. 5
•(1P.
=
KL1
,
(LFA\/1S
(J),
J
K)?)
TSTEM,
KS
.FO.
?
)
WRITE
(
IIi)JNIT,50?
) II),
IF (
=
j
KL?)
(LFAVFS (J),
KL1,
WRITE ( IiJL)NIT,5(H Ii),
IF
KS •F0. 4
J = KL1, KL?)
(LEAVES
WRITE
(I11(JNIT,504) ID,
IF ( KS •E0.
)
=
(LEAVES (LI),
KL1, KL2)

PRINTING

:

::::::::

KL1
1
KL?
KL7 + ILFCNT (I)
::::::::
CHECK THAT LFAF COuNT IS NOT CT LINE WIDTH
=
KLFND
KL?
•GT. LFWID ) KL,2 = KL1 ÷ LWI1) — 1
IF ( I LFCNT
IF ( ISTEM .EC. (—1) ) GM TM 10
IF ( ISTEM .LT. 0 ) ISTEM = ISTEM + 1

TF

I) =

(I)

(I)

10,

),

:

50
1 = 1, NSTEMS
::::::::
ISTFMISTHECHRRENTSTE ::::::::
ISTEM = ISTFMS
::::::::
KS SPFCIFIFS THE CIIRRFi\T LINE IN THF CYCLE
KS = LASFLS
::::::::
11) IS THF MFPTHMF THE CIJRFNTLINF
ID = MIMO (IDFPTH + TLFCNT (I). N — IMFPTH)
— I1)FPTH)
.LT. ILFC'\'T (I))
IF (IAR, (N — (TDFPTH + ILFCNIT

.

5AH1OO

LA H 11 Q 0

SLAH12fl

SLAH1.230
SLAH1?41)
SLAH12SO

SLAHI??O

SLAH121O

SLAH1200

S

SLAH1ISO

SLAH116O
SLAHI 170

SLAH112O
SLAH1I3O
SLAHI14O
SLAHI15O

SLAHII1O

SL.AHIIOO

SLAH1OSO

SLAHI070

SLAH1O6O

SLAH1O4O
SLAH 1050

SLAH1OIO
SLAH1O2O
SLAHIO3O

SLAHI000

SLAH0O

SLAHOQ8O

SLAH07O

SLAHO95O

SAH060

SLAHO93c)
SLAHDQ4()

sLAHO2O

SLAHOQOO
SLAHOQIO

5AH0SO

LA HO S 50

SLAHflS6O
SL.AHOS7O
SLAHOSRI)

S

.

—4

:

I

(

KS

: ::

:

=

)

)

•Ffl.
.E0.

.EO.

.E0.

.F0.
1)

)

THP

)

)

2

)

4

5

)
)

KI_2)

TO

30

WITH NI)

EA\FS

RET JR

!

FORMAT

FORMAT

FORMAT

FORMAT

503

504

5(1

(

I

fiN THEM

GO

TO

50

'JPI)ATE

/

:

::::

ILC"T (I)

DEPTH

(LFAVES
(

—

KJ_1

'i ) , J =

+

)

KL1.

15X, 9H( UNIT = , P12.4, 2H
15. 5X, Q. 4H I , 10011)
(lx. IS, 14X, 4HT I . 10011)
(1X, 15, 1.4X, 4HF I , 10011)
(lx. 15, 14X, L.W5 I , 10011
(1 1, 15, 5X, 1W. 4H. I , 10011)
(IX

(IX.

I

IuiJJNIT,00)

40

I

::

In

Ii)
If)

, KL2)

1))

I)

:

0fl

HI 10

SL AH1 341)
S L A Hi 350

SLAH 1330

SL AH1320

SL A

SLAH12WO
SL AHI

SLAHI?71
SLAHI28O

LAH I 600

LA
S L AH

S

1

680

671)

SLAH166O

L A H 1610
L
S A H1 6 21)
SLAH 1630
SL AH1 640
S L A H 1 650
S

S

SLAH1 Sho
S LA H 1 571)
S LA H 15 80
SLAH1 590

SL AH1

540
S LA H 1550

LA H 1510
SL AH1 520
SLAHI 530
S

SL AHT 500

SLAHI49I)

SLAH 1470
SL AH14 80

SLAH136O
ISTFM SLAH1370
S L A Hi 80
S LA H 1 390
S LA Hi 00
S LA H 1 410
S L A H 1420
: : :
S L A H 1430
SL AH144()
S L A H 1450
ID
SL AHI46O

ID.

:: :

1I)IJNIT,515)

IT HAS NI) LEA\IFS

JDIJNIT,512)

LINE OVERFLOW
)

IF

II)1iNIT,10)
ID
8 )
WRITE I

.E0.

STEM

WRITE I IIIUNIT,513)
WRITE ( TRFINJT,514)

WRITE

KS

WRITE

.OR.

—O

(

(;ui

I._JNE.S

KL1, KL2)

I11J.JNIT,514) ID,

KL2 + I
K12 + MINI) (l_PWJfl, (KLENJ)

50 IDFPTH = IDFPTH +

:::: ::

KL1 =
KL2 =
WRITE
(O TO

0)

(—1

PRINTINr-, THE

.0.

PRINT

:

40

KS
IF I KS
IF I KS
IF ( KS

IF

502

S

TO

: :::

IF

:

(;[)

FORMAT
FORHRAT

501)

J

(

<Li,

WRITE

RINTIN( iF

ISTPM .F0.
ISTEM .LT.

::

)

(J),

6

J =

ISTEM = ISTEM + I
IF
KS .EIi. P
WRITE (IIIIJNIT,50i) ID, ISTEM
KS .E0. 5 •OP. KS .FD. 8 ) WRITF I J[1IINIT,505)
IF
IF I KS
2 )
WRITE I IDIJN!T,507 )
ID
IF
KS .E0. 4 ) WWTTF IUJJNIT,503) IF)
IF
KS •E0. 6
WRITE (I1J1JNIT,504)
ID

IF

IF

: ::

.Efl.

(LFA\/FS

KS

(j),

40 IF I KLFN[) • Eli. KL2

30

20

:

400

C

C

C
C

C
C

C
C

C

C
C

I

(13 TO 40

IF

(LFA\IFS

.

at.)

I ,
2X

C

FNO

I

7X , 6k—U.

S

I

1

F I

1

I

LAST _TNF fR S(_PRN[

1

P1)P'j\T (24X, 10011

(lx.

fl()

515

EH

(-H—1)

2X, fH
1?X, H

1

FIIPMAT
FORMAT
(

,

i?X,

1

514
15,

1, IS,
T,
1. 5,

X •

FrJRAf (1X.

F11MAT (

51

517

(1

FORM Al

51 ()

.
::

:

1f II)

, TOfu
, 10(111)
, 10(1)11)
,

, 1 fl) Ii)

.
SI.AH

1

7('

SLH1 730
SLAH1 740
SLAH 1 75()
SLAH1.7tY)
S LA H1 77
SLAH1 7R0

S

L A H 171 0
SLAI-41 720

700

SAH1(q0
SLAH1

.

(b

A30

.
C (\
C—
CC
C a'
C:

CC'

cC'

c

c

Lf)

(-';

J

-V
_!

(1

(1-;

C(J
) -

C N -, C
CC

L

Cr

Cr

Cr)

C.')

C1•)

Cir rr c —;

C

L/)

C

Icj.::i

.

__,

C -..t C
cC; çc C
C (N C

C

-

:

C
(N

\

C
C

CN

a'

C 'C (N C
C ir c
C (N C
C
C (N
C .-'
CC C

•r<<r<

.
<1

<r

JLiL1

ir

V

V

V

V

(i•

—

C

C
C
ti',

Cr

:;
C: _:,

C _)
C _,

-

C

-

C: C

C

C C;
C

—

.-

C
C -;

—

—

c
'LC''CN

.—i(\ç

—

C
C
C
C
C

C
C
•0

LC'CN

c
C.

c ç C. c
C: r' C C
C—oC

Li:

.

2U

—

•

j-—

Li:

2: —C

U-

I
F—

Li:

.2'

Fc/U-LI

—

C
;1C

Cr

U-

C-

I2 F-

U-

C-i:

I

cr

I—

V

—F-)Y

U)

I

LL

-

.—

5'

F-

,

s

-

a-

—

.
Li

Cr—'2

F-

(j>

F-

.

U-,

I iC

•'——

.(L32

<

I

F-

LL

>- -L Cr2:

2'IC

2CI
L/)

LU

F-

. I (2 F- <

F-

, I

I

wF-—

S

UC—

L

C

F-

Ci (75

I

C u:

—2 LT

U;L

C

C
-LI

Li: '-— 1C2

W

Cr

'S

C

V

C;

U-F—

F--ZLU

LU

..

'2

222 —C—

IF-

U-

F—

I

ZL)LL

U-

F-

LU

F—

Li:

—

F-

L/)

Li:

C_r

a. C C

-

Z

(/)>-

LI)

2 U-

LI)

I

.. .. ..

Li:

C

C

U-

Li:

F-C' LT2 U--

2

(2F- C-F-IL! CCC

Cr

Li:

V

..

-,

VU-

-

2

Li:

5'

e

)

F-

=

S

i)

•.I

I

F-

Cr>- U-IC

1L-

Cr1(2

—U-

if)

F- U- LI)

F—

F—

2 U-

I

—

F-

LL

IL
—

—,

LI

5>

C

.-1

'C-

(.1)2.

>

—

C/

c•

tC

*—CC *_'UF—

*—U-

2C

••

2W*?U_*C

•.

*5< *I——-

* * *U-

• •

**

Li:

U-

C

*_<*F-a*2'

* *

*U

*L

LL

-

Li:

-

F-c>C)cC

Li:

W

..

*

*:LCC

a * * -))- * *—

ZC

if)

—'

.—

* *

*Cla

C

F—

<F-'<

C L2 < *

)

CC

I

—

I

-,

w aa

Li:
F-

w

—u_.

aa

2 1'

—,

F-

"L)

a

1a 5
F-

C Li

F- Cr

2F-C

j
—•

•

aCC CL CLL

W52:—J

F- C 2'

•. .. ..

C•CS

F-ILL

..

<
< CL) —

•.

w— LI)F-

F- U-

LL

2' —

I
2

U-

..

2'

.. ..

—

11:

2
-->

2C

-

LI)

. J F-

b

F-—a

I

Cr

LU—

v

Cr

.. (P

.. .. ..

S

L <

Li:

F-

L:

I

u-

U

Cr

LI

••

F- a C"

..

) -

Li:

LL

<Li:

U F—I

2

)

2

C—

2C CU-

Ca-— Z_'v

. 2C

I

L/)F-

Li:

CC

F—

IL

F-

w

aC 1

U-

—

F--

C
<ICr &pF—&

Li:!

Cr F-

a
•2

C U_

S Li:

2

C

Ci)

)J'

IL

.'z

CT' U--'

•

.. ..

.—

.. ..

.

..

2:

(2

A31

C

i'44 -

CCCCCCC
cC C Q C: C4j

C CCC: CCC CCC C'-C C C C CCC
CCC) C
CCC
C
)
)
-:
-; )C
—
.4 4.4.4.4.4.4.4.4.4.4.4< <<.4 <.4•< <<<<<.4.4.4.4
v;

CM CM Cl) Cl) CM CM CM CM CM CM r,

Cl) CM CM CM LI)

Cl)

Cl) CM Cl)

Cl) Cl) CM

.
S

-J

4
U:

4
•.

..

C>
I-

Cl

CU:

U:

Cl)

F—

a

S

U:

>

Cc.

'C

z

—

—

U:

C

w
•

U:

..

U:

-J
C
C

C

+ I—

ci
—
II

II

I

LI)

It

ICr

II

II

— —><

>> —

II

U:LL-

II

U:
Cr

C"

. CCCL'CC

I—

- _ -' C

S

4
ii

II

+

—.

If

——
II

+

— -i---,
..

.

•

U

'C

C

C

Li)

•

+

C

=

U:

C

— C..
I-..

E
c
U L..LL
4

UC

NC T

I

V

C)

(V

J

V
A,

N)I1TFS

:

'

:

op
COP

.

C

r;

IHF LARGEST I

1
)

(I)

(1) V

FLOAT

IN
=

(

V

IIFLUAT (T)

11)! N T

IN THE SUHU!JTINE

S

:

NEE

::: ::: :::::: :: ::::

OOLIKLF—PRFCTSII1I\I

::::: :

'vu FUR

:: ::::: :::: : :

i)OHRIF PRFCISJCIN DV, V. 7ERI1
000-U F PRECISION FLOAT

:::::: :

COP

::

TO

:

:: :

P'

C

: :::

Ci)NVEPSION.

CHANGFO FRHN

ADD! rIciN, ALL CONST.NTS INITIALIZED

SHOULD RE

TN

L

C

COP
1

P,ET(JR'.IS

RESTRICTIONS:

Ti)

ILI1flR

S L.A L 0? 50
S LA L (1 ? 60

SL AL 0240

S L A L 0? 20
S LA L (1730

SLALO 180
1 00
SL AL 0200
S L AL 0? 11)
S LA 0

SL 41_Cl71)

411

1,

: 4n

1)

SLAIfl42fl

SL

00
AL
SL AL 11400
St_ALO41O

SLAL03R

SL AL0360
SL AL 03 70

.::::: : SLALI'350

S LA L

SLALU30

S LA L 0300
SLALO3 10
SL AL 0320

TNFS TN THF FUNCTION CDNTAJNINI4 'COP' IN THE FIRST THREE
SL AL 02 70
COLUMNS WI
HELP THE uSER IN CONVERT iNi, THE FUNCT 1110 FRC)i" SINGLE SLAL 0280
TO OO!JRI_R—PPFCJSJI1I\I. 'EAL
DEFINITION CARDS 'UST RE REH1VH)•
SL AL 0200

****ALr,nR TTHM

FHIJAL

AND USAGE

D

RFAL NIIMAFR .

LESS THAN

CDNTI\INS

I \IPI IT:

X*APPLICATIDN

ON

C
C
C

C

C

C

C

C

C

C

C

C

OFSCR I PT! ON:

•t

SL.ALPI 50
SLAL 0160

i)

: : : : : : : : : : : : : : : : : : : : SL A!_01 10
SLALO1?1)

****PARAMFTFk

: :

C

:::::: : : : : : :::::::::: : : : :

L AL fl 080

SL AL()090
SL AL P 1(1 1)

S

SL AL fl050
S LA L 0060
SL AL 00 70

SLAL 0040

SL ALP1
S LA L 0

:

:: : : : :

in

0?0

SL ALflfl3i)

SLAL

SL ALDO

THIS FUNCTION STMfILAT1Y, THE FLIHIR. FUNCTION.

:::: :::::

INTFGER
TNT
REAL
FLOAT

111 !\IS

7FRD

'F!JI\IC

RFAL

INTF0FP

****LOCAL \'AP I A-LFS

RFAL

J

H N I F L iR
**:*PARAMTFR

I

C

C

C

C

C

C

C

F

S

w

1'.)

A33

CCCCCCCCC
çc
4 ' N a' C —
4 4 4 4 '4- 4 4 .4-' Ir

C c C c C c C. C
< —Icx_icx_cx_ <_ - -,
ci -' v.

(/ V v

2'

IL
I—

o

—I

L1

2
w

2•

—

>-

LL

•

I-.

—

U
cii
•
2 —2
>c_
I—
-WLL
N
<(J-'
2
cc
i—
(W 4.11
•

I—

C —-_'c

11.0

.. -0 IL c••
'-"C
'J••2
II

..LL

C

LLIL

(2

