NBER WORKING PAPER SERIES

MULTIVARIATE FRACTIONAL REGRESSION ESTIMATION OF ECONOMETRIC
SHARE MODELS
John Mullahy
Working Paper 16354
http://www.nber.org/papers/w16354

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
September 2010

I am indebted to participants at presentations of various aspects of this work at Catholic University
of Rome, Michigan State University, the University of Arizona, the University of Coimbra, University
College Dublin, and UW-Madison, as well as to Marguerite Burns, Ben Craig, Alberto Holly, Steve
Koch, José Murteira, Stephanie Robert, Nilay Shah, João Santos Silva, and Dave Vanness for their
thoughtful comments, suggestions, and discussions. In addition, Badi Baltagi and Jeff Wooldridge
provided some helpful guidance with the literature. All these colleagues, of course, are absolved from
any blame for the paper's shortcomings. Partial financial support from the Robert Wood Johnson Foundation
Health & Society Scholars Program is acknowledged. Some of this work was completed as a visiting
scholar at the UCD Geary Institute, which provided brilliant hospitality. The views expressed herein
are those of the author and do not necessarily reflect the views of the National Bureau of Economic
Research.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
© 2010 by John Mullahy. All rights reserved. Short sections of text, not to exceed two paragraphs,
may be quoted without explicit permission provided that full credit, including © notice, is given to
the source.

Multivariate Fractional Regression Estimation of Econometric Share Models
John Mullahy
NBER Working Paper No. 16354
September 2010
JEL No. C3,D12
ABSTRACT
This paper describes and applies econometric strategies for estimating regression models of economic
share data outcomes where the shares may take boundary values (zero and one) with nontrivial probability.
The main focus of the paper is on the conditional mean structures of such data. The paper proposes
an extension of the fractional regression methodology proposed by Papke and Wooldridge, 1996, 2008,
in univariate cross-sectional and panel contexts. The paper discusses the stochastic aspects of share
definition and measurement, and summarizes important features of the existing literature on econometric
strategies for share model estimation. The paper then goes on to discuss the univariate fractional regression
estimation strategies proposed by Papke and Wooldridge and to extend the fractional regression approach
to estimation of and inference about regression models describing the multivariate share data. Some
issues involving outcome aggregation/ disaggregation are considered, as is a full likelihood estimation
approach based on Dirichlet-multinomial models. The paper demonstrates the workings of these various
empirical strategies by estimating models of financial asset portfolio shares using data from the 2001,
2004, and 2007 U.S. Surveys of Consumer Finances.

John Mullahy
University of Wisconsin-Madison
Dept. of Population Health Sciences
787 WARF, 610 N. Walnut Street
Madison, WI 53726
and NBER
jmullahy@facstaff.wisc.edu

Prologue
Displayed in table 1a is an extract of nine observations on nine mutually
exclusive and exhaustive categories of healthcare expenditures from a multiyear
sample of the U.S. Medical Expenditure Panel Survey (MEPS); the specific quantities
reported are the shares of total healthcare expenditures contributed by each of the
nine expenditure categories. Table 1b exhibits an extract of nine observations on
seventeen mutually exclusive and exhaustive two-digit categories of time use from
a multiyear sample of the American Time Use Survey (ATUS); the detailed figures
are the number of minutes reported being spent in each category of time use
during the one-day, or 1,440-minute, time diary recall period. Finally, table 1c
displays an extract of nine observations on ten mutually exclusive and exhaustive
categories of financial assets from a multiyear sample of the Survey of Consumer
Finances (SCF); the detailed data presented in this table are the shares of total
financial assets accounted for by each of the ten financial asset categories.
The samples from which these observations are extracted have structures
that share two analytically important features. First, the multivariate outcomes are
mutually exclusive and exhaustive shares of some total. Second, there is a
nontrivial empirical frequency of shares that are realized at upper and lower
boundary values.
1. Introduction
Multivariate outcomes measured as shares of some overall total arise in
numerous contexts in applied microeconometrics. Whether the particular analysis
focuses on time use (Mullahy and Robert, 2010), portfolio shares (e.g. Poterba and
Samwick, 2001, 2002), consumer budgeting (see the references in section 3),
market share analysis (Berry et al., 1995; Dubin, 2007), or some other topic, there
will often arise -- as demonstrated by the above examples -- commonalities of the
data structures under investigation with those exhibited in tables 1a-1c.
Letting yik represent the k-th outcome for the i-th individual, M denote the
number of outcomes, and xi, i=1,...,N, be a p-vector of exogenous covariates, such
data are characterized formally by the following:

yik ∈ ⎡⎣0,Bi ⎤⎦ ,

(1)

Pr ( yik = 0 xi ) > 0 and Pr ( yik = Bi xi ) > 0 ,

(2)

and
M

∑m=1 yim = Bi

for all i,

(3)
M

or in vector notation yi ∈ ⎡⎣0,Bi ⎦⎤ and 1' yi = Bi . Here Bi represents some finite total
or upper bound: Bi=total annual healthcare spending in table 1a; Bi=B=1,440
minutes per day in the time use data in table 1b; and Bi=total financial assets in
the data underlying the financial asset share data in table 1c. The Bi may or may

1

not vary across i and may or may not be exogenous (more on this below).1
Considerations (1) and (3) are standard in the econometric share equation
literature. Econometric strategies to handle of (2) in light of (1) and (3) are less
studied and are the main focus of this paper.
This paper describes and applies econometric strategies for estimating
regression models of various features of outcome data like those described above,
with a main focus on conditional means. Specifically, for the analysis of the
conditional mean structures of such data, this paper proposes an extension of the
fractional regression methodology proposed by Papke and Wooldridge in univariate
cross-sectional (Papke and Wooldridge, 1996) and panel (Papke and Wooldridge,
2008) contexts.2
The emphasis on conditional first-moment structures is central. The working
premise is that the parameters of concern to the analyst are the set of conditional
means E ⎡⎣ yk x ⎤⎦ , k=1,...,M, which are specified to satisfy
E ⎡⎣ yk x ⎤⎦ ∈ ( 0,B )

,

k=1,...,M

(4)

and
M

∑m=1 E ⎡⎣ym x ⎤⎦ = B .

(5)

Note that in (4) the conditional means are assumed to span the open interval (0,B)
rather than the closed interval [0,B] which the yk can occupy. While probably a
reasonable assumption in general, this could be restrictive in some instances where
for some values of x Pr ( yk = 0 x ) = 1 or Pr ( yk = B x ) = 1 might be possible.3 The
subsequent analysis accommodates either of these boundary probabilities being
arbitrarily close to, but not identically, zero or one.
Henceforth the paper will work with the normalized outcomes or shares
sk=yk/B instead of the yk themselves, with the vector of shares s satisfying
s ∈ ⎡⎣0,1⎤⎦

M

and 1' s = 1 . Moreover, the analysis will proceed under the assumption

that the E ⎡⎣sk x ⎤⎦ have a parametric structure, i.e. E ⎡⎣sk x ⎤⎦ = ξk ( x; α ) , where the
generic common parameter vector

α = ⎡⎣α1,..., αM ⎤⎦

will generally be shared across

1

The "i" subscript indexing observations will be suppressed henceforth unless
useful for clarity.

2

Some applications may involve multivariate bounded outcome data that are not
subject to adding-up restrictions like (5).
The analysis of such "seemingly
unrelated" outcomes might proceed generally by considering modifications of the
framework proposed by Papke and Wooldridge, 2008, for panel data structures.

3

If Pr ( yk = 0 x ) = 1 or Pr ( yk = B x ) = 1 for all x values subsequent analysis would

likely be uninteresting and/or trivial.

2

the M conditional mean parameters ξk ( x; α ) to enforce condition (5).
The plan for the remainder of the paper is as follows. Section 2 discusses
the stochastic aspects of share definition and measurement. Section 3 summarizes
salient features of the existing literature on econometric strategies for share model
estimation. Section 4 highlights various features of the fractional regression
estimation strategies proposed by Papke and Wooldridge (1996, 2008). Sections 58 are the methological core of the paper: section 5 extends the fractional
regression approach to the multivariate share model context; section 6 considers
several issues involving inference and specification testing; section 7 offers some
ideas on testing aggregation or disaggregation of outcome categories; and section
8 presents a Dirichlet-multinomial likelihood-based approach to estimating
multivariate share models that accommodates important features of the observed
outcomes. Section 9 presents an empirical example of the proposed methodologies
using data on financial asset portfolio shares from the 2001, 2004, and 2007 U.S.
Surveys of Consumer Finances. Section 10 concludes.

2. Share Definition and Stochastic Characteristics
The foundation of the empirical analysis is the joint distribution φ ( y, x ) of an
M-vector of outcomes y ≥ 0 and covariates x. From this, share measures may
arise naturally in at least two ways that may imply different stochastic structures
for the resulting econometric share models.
Suppose there are M quantities yk = gk ( x, αk ) + uk ,

k=1,...,M,

from some constrained optimization problem (utility
minimization; portfolio composition optimization; etc.),

that

arise

maximization; cost
where E ⎣⎡uk x ⎦⎤ = 0 ,

k=1,...,M, so that the gk(.) are conditional means. The corresponding shares are
given by

sk =

yk

M

∑m=1

ym

=

g ( x, αk ) + uk
M

∑m=1

g ( x, αm ) + um

=

g ( x, αk ) + uk
Y

.

(6)

In some cases (e.g. time use) there is a nonstochastic exogenous constraint B (e.g.
1,440 minutes per day) such that
restriction

sk =

M

∑m=1 g ( x, αm ) = B
g ( x, αk ) + uk
M

=

M

∑m=1 ym = Y = B .

is required or enforced, then
g ( x, αk )
M

∑m=1 g ( x, αm ) ∑m=1 g ( x, αm )

where the vk are
E ⎡⎣sk x ⎤⎦ = ξk ( x, α ) .

If the nonstochastic adding up

conditionally

+ vk = ξk ( x, α ) + vk ,

mean-zero

3

M

∑m=1 um = 0 and

heteroskedastic

(7)

errors

so

that

Alternatively, the total Y may simply be defined as the sum of the M
stochastic quantities yk whose measurements share a common metric (e.g.
currency units) without being subject to any analytically relevant exogenous
constraint,4 in which case the share equations have the more general form
sk = h ( x, αk ,uk ) H ( x, α, u) . In this instance, stochastic elements appear in both
numerator and denominator of the share functions. As such, the derivation of
E ⎡⎣sk x ⎤⎦ is no longer straightforward, requiring integration over the joint distribution
of the entire vector of residuals u.
By making primitive first-moment assumptions along the lines of
E ⎡⎣sk x ⎤⎦ = ξk ( x, α ) , this paper proceeds for the most part under the assumption
that the simpler structure (7) holds, although conceiving of E ⎡⎣sk x ⎤⎦ = ξk ( x, α ) as a
first-order approximation via an expansion of h ( x, αk ,uk ) H ( x, α, u ) around u=0

may also be reasonable.
3. Approaches to Econometric Share Model Estimation
This section provides a brief survey of approaches to econometric share
model estimation that have been prominent in the literature.
Econometric Share Model Estimation

Much but not all of the econometric share equation literature focuses on the
relationship between empirical share models and underlying constrained
optimization behaviors yielding outcomes (e.g. commodity category expenditures or
patterns of time use) that are shares of some particular total (e.g. money or time
budgets). Early contributions to this literature include Christensen et al., 1975, and
Wales and Woodland, 1977, who examine consumer demands and corresponding
expenditure shares in utility maximization contexts. Subsequent studies have
approached share equation estimation from theoretically motivated optimization
models in which stochastic components are embedded to play particular roles
(preference heterogeneity; technical or allocative inefficiency; etc.) in the
optimization framework rather than being appended additively to nonstochastic
share functions in what might be an ad hoc manner; such examples include Brown
and Walker, 1989, Chavas and Segerson, 1987, Kooreman and Kapteyn, 1987, and
McElroy, 1987. Considine and Mount, 1984, derive a specification in which the set
of share equations has a multinomial logit functional form; this is noteworthy
because a multinomial logit form is at the core of the specifications proposed below.
4

This may be a reasonable characterization of the shares that are analyzed in the
empirical analysis reported in section 9. Here the shares are the fractions of overall
financial assets in each of ten financial asset categories. Even were the overall
level of assets to be characterized as nonstochastic, the split between financial and
nonfinancial assets and, therefore, total financial assets, would presumably be
stochastic.
4

Dubin, 2007, uses nested multinomial logit market share models to estimate
valuations of intangible assets. Fry et al., 1996, based in part on ideas developed
in Aitchison, 1982, apply to the estimation of share models methods from
compositional data analysis (CODA), which involve essentially modeling logs of
ratios of shares.5
Estimation of Share Models with Boundary or Corner Solutions

Fewer studies have tackled the thorny empirical problems that arise when
observed shares take on corner or boundary solutions with nontrivial probabilities.6
Appealing to Kuhn-Tucker conditions and corresponding virtual or support prices,
Lee and Pitt, 1986, propose a general empirical structure for multivariate share
systems when corner solutions at zero are prominent in the data. Morey et al.,
1995, explore a variety of statistical models to accommodate boundary outcomes,
among these multinomial models for discretely measured (count) outcomes that
share some features with the multivariate fractional regression models that are
proposed below.
Since boundary solutions are a prominent feature of the share data of
concern here, providing a general strategy for analyzing such outcomes is of some
interest. Ad hoc fixes are not an appealing approach to the boundary solution
phenomenon, particularly when the probability of such boundary outcomes is
nontriviall.
Dirichlet Share Models

Woodland, 1979, proposed the Dirichlet distribution as a direct statistical
model for shares without particular consideration of any underlying economic
optimization framework. The Dirichlet density conditional on x is given by7
⎛Γ
⎜
D ( s x ; ψ) = ⎜
⎜
⎝

(∑

M

z
m =1 m

( x, ψ)

) ⎞⎟⎟ ∏

∏m=1 Γ ( zm ( x, ψ) ) ⎟⎠

5

M

( z ( x,ψ) −1)
s m
m =1 m

M

.

(8)

See also Billheimer et al., 2001.

6

For instance, Kooreman and Kapteyn's elegant analysis of time use demands
notes the potential for boundary solutions but then goes on to comment: "We will
ignore the [boundary condition constraint equations in the theoretical model],
which are binding for only a limited number of observations."

7

Woodland specifies a general functional form for the Dirichlet regression
parameters but then uses a linear (not exponential) specification in his empirical
analysis.
Nonetheless, since the Dirichlet parameters must be positive, an
exponential specification is appealing. (José Murteira, in a private communication,
pointed out that the expression for the Dirichlet density in Woodland's equation (4)
contains a typographical error: The product in the denominator of the correct
expression is displayed as a summation in Woodland's paper.)

5

Note that if any sk=0 then the density D(.)=0 and if any sk=1 then necessarily all
the other sk=0. As such, the density is undefined in either event, thus precluding
direct application of the Dirichlet model to the kinds of share data examined here
where boundary values are prominent.
Yet it is useful for purposes of this paper to note that for the Dirichlet model,
the conditional first moments are
E ⎡⎣sk x ⎤⎦ =
or

E ⎡⎣sk x ⎤⎦ =

zk ( x, ψ)
M

∑m=1 zm ( x, ψ)

,

exp ( xψk )
M

∑m=1 exp ( xψm )

k=1,...,M

=

exp ( x ( ψk − ψM ) )
1+

∑m=1 exp ( x (ψm − ψM ))
M −1

(9)

,

k=1,...,M,

(10)

using a natural exponential-with-linear-index parameterization for the z(.). Note
that this corresponds to the standard functional form for multinomial logit
probabilities even though for the Dirichlet model all M of the ψm are identified.
Noteworthy for present purposes is that this conditional first-moment structure
coincides with that of the multivariate fractional share model whose specification
and estimation is discussed below.
4. Fractional Regression Estimation
Before exploring the multivariate estimation strategies that are the main
focus of this paper, a brief overview of fractional regression (FREG) methods is
worthwhile.8 The FREG model was proposed initially by Papke and Wooldridge
(PW), 1996, in their study of voluntary individual contributions to retirement
accounts in which the univariate dependent variable of interest is the fraction
s ∈ ⎡⎣0,1⎤⎦ of allowable contributions made by individuals in their sample. The key
result in the Papke-Wooldridge paper is that even when the outcomes take on
values at the extremes of the bounded range they occupy -- i.e. s=0 or s=1 -- with
nonzero probability, the FREG method provides consistent estimates of the
parameters of a univariate conditional mean function so long as it is specified with
the correct functional form and embedded in a suitable quasi-ML estimator or Mestimator.
Specifically, PW, 1996, consider the case of univariate fractional
outcome data (s) and conditional means E ⎡⎣s | x ⎤⎦ with M=1, while PW, 2008,
consider the panel data context with the added j-dimension, j=1,...,J, giving
outcomes for the i-th individual at the j-th time period sijm=sij that are multivariate
(J>1) in the j-dimension but univariate (M=1) in the m-dimension. In particular, in
this case there are no implied adding-up restrictions of the form (5) to
accommodate.
8

See Ramalho et al., 2010, for an excellent survey of fractional regression model
estimation.
6

The basic idea underlying FREG estimation in the cross-sectional univariate
outcome context is that if focus is exclusively on conditional first moments, then
quasi-ML estimation when a correct parametric specification of the conditional firstmoment structure is embedded in an exponential-family quasi-likelihood will yield
consistent estimates of the first-moment parameters regardless of whether the
nominal quasi-likelihood is true or not (Gourieroux et al., 1984a,b). In light of
these arguments, PW suggest that the key property of a conditional first-moment
model for a fractional outcome is that it obeys the boundary restrictions, i.e.
E ⎡⎣s x ⎤⎦ = ξ ( x ) ∈ ( 0,1) . PW then suggest that a general class of parametric functional
forms that satisfy this restriction are distribution functions G (.) of continuous

random variables, i.e. E ⎡⎣s x ⎤⎦ = ξ ( x; ω ) = G ( x; ω ) ∈ ( 0,1) .
Thus direct specification of such a conditional mean structure embedded in
an exponential-family quasi-likelihood whose maximization estimates such a
distribution function should provide consistent estimates of ω so long as G ( x; ω ) is
a correct specification of the conditional first moment. Bernoulli quasi-likelihoods

G ( x; ω ) × (1 − G ( x; ω ) )

1− s

s

for

the

fractional

(not

binary)

outcome

measures

s ∈ ⎡⎣0,1⎤⎦ are the obvious choice, with the particular functional form for G ( x; ω )
specified as a logit, probit, or other cumulative distribution function, typically with a
linear index argument xω . Consistent inferences are straightforward, but will
generally involve using robust sandwich or bootstrap covariance estimators since
the share data will be underdispersed relative to the nominal Bernoulli model (see
section 6).
The fractional logit ("FLOGIT") version of the FREG model with
E ⎡⎣s | x ⎤⎦ = G ( x; ω ) =

exp ( xω )

(11)

(1 + exp ( xω ) )

is the univariate foundation for the multivariate FREG estimator discussed now.
5. Multivariate Fractional Logit: Estimation
The central goal of this paper is to provide consistent estimation strategies to
estimate properties of the conditional distribution of share data that enforce (12)
and (13) and accommodate (14) and (15):
E ⎣⎡sk x ⎤⎦ = ξk ( x;β ) ∈ ( 0,1) ,

k=1,...,M,

M

∑m=1 E ⎡⎣sm x ⎤⎦ = 1 ,
Pr ( sk = 0 x ) ≥ 0 , k=1,...,M,
Pr ( sk = 1 x ) ≥ 0 , k=1,...,M,

(12)
(13)
(14)
(15)

7

where β = ⎡⎣β1, β2 ,..., βM ⎦⎤ . The main concern in this section and the next is with
estimation of the conditional first-moment structure of such data, i.e. ξ ( x;β ) .
Section 8 extends this inquiry to other features of the joint conditional probability
models φ ( s x ) .
The extension of the PW approach to a multivariate fractional logit
("MFLOGIT") setting is straightforward.9 This and the following three sections offer
detailed exposition of the estimator and its properties. PW and Gourieroux et al.,
1984a,b provide the fundamental arguments to establish consistency for the
multivariate/multinomial version of the univariate PW quasi-ML approach. Assume
that the sample are independent draws from the (M+C)-variate distribution φ ( s, x ) .
Based on (10), specify the M conditional means to have a multinomial logit
functional form in linear indexes as
E ⎡⎣sk x ⎤⎦ = ξk ( x;β ) =

exp ( xβk )
M

∑m=1

exp ( xβm )

,

k=1,...,M.

(16)

Note that this specification enforces both (12) and (13). Alternative specifications,
M

∑m=1 xφm ,

e.g. ξk ( x; φ ) = xφk

are estimable -- indeed, this is the conditional

first-moment functional form implied in the Dirichlet simulations conducted by
Woodland, 1979 -- but they admit the possibility of predicted shares falling outside
the ⎡⎣0,1⎤⎦ interval at some values of x. This paper thus focuses on the specification
(16) although the merits of competing first-moment specifications could be
adjudicated empirically by conditional-moment or related tests.
As with the familiar multinomial logit estimator, some normalization is
required since all M of the βk will not be separately identified in the multinomial
quasi-likelihood; βM = 0 is used henceforth, giving
ξk ( x;β ) =

exp ( xβk )
1+

M −1

∑m=1

, k=1,...,M-1

exp ( xβm )

(17)

and
ξM ( x;β ) =

1
1+

M −1

∑m=1

exp ( xiβm )

.

(18)

Owing in part to the normalization, interpretation of the signs and magnitudes of
the βk is generally not straightforward.10 Typically much more interesting and
9

This estimation strategy has been applied in Mullahy, 2004, Mullahy and Robert,
2010, Koch, 2010, as well as in the transportation research literature (Sivakumar
and Bhat, 2002; Ye and Pendyala, 2005).

10

See Crawford et al., 1998.
8

useful in applications are the corresponding average partial effects (APEs) that are
invariant with respect to the particular normalization selected. These are described
in detail in Appendix 1.
Appealing to the quasi-ML estimation methods described by PW for the
univariate case, one can define a multinomial logit quasi-likelihood function Q(.)
that embeds the functional form (16) and that uses the observed shares sik ∈ ⎣⎡0,1⎦⎤
in place of the binary indicators that would typically populate a multinomial logit
likelihood function, i.e.
Q (β ) =

N

M

∏i=1 ∏m=1 ξm ( xi;β ) im .
s

(19)

The log quasi-likelihood is
J (β ) = log ( Q (β )) =

∑i=1 ∑m=1 sim × log ( ξm ( xi;β ) ) ,
N

M

(20)

with the corresponding p × (M − 1) estimating or score equations
∂J (β )
∂βk

=

∑

⎡
⎛
⎢
x s −⎜
i =1 i ⎢ ik
⎜⎜
1+
⎝
⎣⎢
N

T

⎞⎤
⎟⎥ ,
M−1
⎟⎥
exp ( xiβm ) ⎟ ⎥
⎠⎦
m =1

exp ( xiβk )

∑

k=1,...,M-1,

(21)

which are the same score equations as those corresponding to a standard
multinomial logit estimator except that the sik are, in general, nonbinary.11
Consistency of the resulting β follows from the arguments in PW and Gourieroux et
al., 1984a, in particular that E ⎣⎡ ∂J (β ) ∂βk ⎦⎤ = ExE ⎣⎡∂J (β ) ∂βk x ⎦⎤ = 0 , k=1,...,M-1,
given standard full-rank assumptions that ensure a unique maximizer.12

11

Some canned multinomial logit estimation packages, e.g. Stata's mlogit, do not
accommodate nonbinary sm. The estimates presented here are obtained using a
procedure written in Stata's Mata language, which is available on request.

12

In closing this section it might be noted that it would be feasible and
straightforward to ignore the share system nature of the outcome data and
estimate a first-moment structure with M independent binary FLOGIT models (11)
yielding M corresponding ωk estimates and APEs. While straightforward, such an
approach ultimately implies an unrealistic form of aggregation across the M
categories (see section 7 for related discussion). Yet whether such an approach
would have substantive implications for the estimates of parameters of interest like
APEs is an open question; preliminary results using the SCF data (not reported
here) show considerable similarity of the APE estimates from the MFLOGIT and the
independent binary FLOGIT estimators.

9

6. Multivariate Fractional
Specification Testing

Logit:

Underdispersion,

Inference,

and

Underdispersion

Overdispersion (resp. underdispersion) is typically characterized in a
univariate outcome context as a situation where the empirical variance of the
distribution of some outcome y is greater than (resp. less than) the variance that
would obtain if y followed a reference or nominal distribution φnom , possibly
conditioned

on

covariates,

Varemp ( y x ) < Varnom ( y x ) ),

Varemp ( y x ) > Varnom ( y x )

i.e.

possibly

enforcing

the

(resp.
restriction

Eemp ⎡⎣y x ⎤⎦ = Enom ⎡⎣ y x ⎤⎦ . In the multivariate outcome context with outcome y an
M × 1 vector, a natural extension is to define overdispersion (resp. strict
overdispersion) as the situation where the matrix difference C ovemp ( y x ) Covnom ( y x ) is positive semidefinite (resp. positive definite), and underdispersion

(resp. strict underdispersion) as the situation where the Covnom ( y x ) - C ovemp ( y x )
is positive semidefinite (resp. positive definite).

The nature of the multivariate share data analyzed here is such that the data
necessarily manifest (conditional) underdispersion relative to their nominal
multinomial counterparts in this matrix-definiteness sense. This can be seen as
follows. Given the quasi-ML first-moment assumptions and multinomial nominal
likelihood,
it
follows
that
Prnom ( sk = 1 x ) = Enom ⎡⎣sk x ⎤⎦ =
Eemp ⎡⎣sk x ⎤⎦ = ξk ( x ) . Thus for the share vector s, Covnom ( s x ) is given by the
multinomial covariance matrix
−ξ1 ( x ) ξ2 ( x )
…
−ξ1 ( x ) ξM ( x ) ⎤
⎡ ξ1 ( x ) (1 − ξ1 ( x ) )
⎢
⎥
−ξ1 ( x ) ξ2 ( x )
ξ2 ( x ) (1 − ξ2 ( x ) )
⎢
⎥,
Covnom ( s x ) =
⎢
⎥
⎢
⎥
…
ξM ( x ) (1 − ξM ( x ) ) ⎥⎦
⎢⎣ −ξ1 ( x ) ξM ( x )

(22)

while Covemp ( s x ) is given by

⎡
E ⎡( s − ξ ( x ) )
⎣
⎢
⎢ E [( s − ξ ( x ) ) ( s − ξ
Covemp ( s x ) = ⎢
⎢
⎢
⎢E [ ( s − ξ ( x ) ) ( s − ξ
⎣
2

1

x

1

1

1

2

2

1

1

M

M

⎤⎦

( x )) x]

E

[( s

1

− ξ

E

1

( x )) ( s

⎡⎣( s

2

− ξ

( x )) x]

2

10

− ξ

( x ))

…

Thus

2

2

2

( x )) x]
x

…

E

[( s

1

− ξ

1

( x )) ( s

M

− ξ

M

( x ) ) x ]⎤

⎤⎦
E

⎡⎣( s

M

− ξ

M

( x ))

2

x

⎤⎦

⎥
⎥
⎥ .(23)
⎥
⎥
⎥
⎦

⎡ ξ1 ( x ) − E ⎡s12 x ⎤
⎤
−E [ s1s2 x ]
…
−E [ s1sM x ]
⎣
⎦
⎢
⎥
2
⎢ −E [ s s x ]
⎥
ξ2 ( x ) − E ⎡s2 x ⎤
1 2
⎣
⎦
⎥ .(24)
Δ ( x ) = Covnom ( s x ) − Covemp ( s x ) = ⎢
⎢
⎥
⎢
⎥
2
⎢ −E [ s1sM x ]
ξM ( x ) − E ⎡ sM x ⎤ ⎥
…
⎣
⎦⎦
⎣
If Pr ( sk ∈ ( 0,1) x ) > 0 for all k then each of the diagonal elements of Δ ( x ) is
positive

z > z2

(since
⎡⎛

M

for
⎞

M

z ∈ ( 0,1) ).

any

Note

too

that

⎤

∑mm=≠1k E ⎡⎣sk sm x ⎤⎦ = E ⎢⎢⎜⎝ sk ∑mm=≠1k sm ⎟⎠ x ⎥⎥ = E ⎡⎣sk (1 − sk ) x ⎤⎦ , so that the absolute value of
⎣

⎦
the row sum of the off-diagonal elements of any row in Δ ( x ) equals the diagonal
element in that row.
Definition
A symmetric

Dkk ≥

∑

M
m =1
m ≠k

M×M

Dkm

matrix D is weakly diagonally dominant if

for all k=1,...,M, and is diagonally dominant if the

inequality holds strictly.
It follows that the matrix Δ ( x ) is weakly diagonally dominant.

Furthermore, a

diagonally dominant (resp. weakly diagonally dominant) matrix is positive definite
(resp. positive semidefinite).13 As such, the empirical distribution of the share
vector s conditional on x manifests underdispersion relative to the nominal
multinomial quasi-likelihood. The implications of this for inference are considered
below.
Inference

The asymptotic distribution of β follows from the arguments in PW and in
Gourieroux et al., 1984a,b.
Specifically, given correct specification of the
conditional first moments ξ ( x ) = E ⎡⎣s x ⎤⎦ ,

(

)

N β − β is asymptotically N ( 0, VMFLOGIT )

where
VMFLOGIT = AP−1A Q AP−1

(25)

'
AP = Ex ⎡( IM−1 ⊗ x ) P ( x ) ( IM−1 ⊗ x ) ⎤ ,
⎢⎣
⎥⎦

(26)

with

13

See Graybill, 1983, Theorem 12.2.16, and Intriligator, 1971, equation B.7.10.
11

'
A Q = Ex ⎡( IM−1 ⊗ x ) Q ( x ) ( IM−1 ⊗ x ) ⎤ ,
⎢⎣
⎥⎦

−ξ1 ( x ) ξ2 ( x )
⎡ ξ1 ( x ) (1 − ξ1 ( x ) )
⎢
ξ2 ( x ) (1 − ξ2 ( x ) )
⎢ −ξ1 ( x ) ξ2 ( x )
P (x) = ⎢
⎢
⎢⎣ −ξ1 ( x ) ξ(M −1) ( x )

(27)
−ξ1 ( x ) ξ( M −1) ( x )

⎤
⎥
⎥
⎥,
⎥
ξ(M −1) ( x ) 1 − ξ( M −1) ( x ) ⎥⎦

(

(28)

)

and
⎡ Var ( s1 x )
⎢
⎢ Cov ( s1 , s2 x )
Q (x) = ⎢
⎢
⎢Cov s , s
1
( M − 1) x
⎣

(

Cov ( s1 , s2 x )

(

Cov s1 , s(M −1) x

Var ( s2 x )

)

(

Var s(M −1) x

)

)⎤⎥

⎥
⎥.
⎥
⎥
⎦

(29)

Although estimating the model using quasi-ML methods will provide
consistent estimates of the βk parameters, the corresponding inverse Hessian MNL
covariance matrix will not be a consistent estimator of the true covariance matrix
so long as Pr ( sk ∈ ( 0,1) | x ) > 0 . Note that if the data were truly conditionally
multinomially distributed, then

(

)

N β − β would have asymptotic covariance matrix

VMNL = AP−1AP AP−1 = AP−1 . The difference between VMNL and VMFLOGIT is

(

)

VMNL − VMFLOGIT = AP−1 AP − AQ AP−1 .

(30)

In turn, the matrix difference AP − A Q can be written as
'
AP − A Q = Ex ⎡( IM−1 ⊗ x ) (P ( x ) − Q ( x ) ) ( IM−1 ⊗ x ) ⎤ .
⎣⎢
⎦⎥

(31)

Note that the matrix difference P ( x ) − Q ( x ) equals the matrix Δ ( x ) defined in eq.
(24) with the M-th row and M-th column deleted.

As such P ( x ) − Q ( x ) will in

general be strictly diagonally dominant and, therefore, positive definite. Being
quadratics in positive definite matrixes, it thus follows that AP − A Q and, therefore,

(

)

AP−1 AP − A Q AP−1 , will themselves be positive definite.
will in general be positive definite.

()

Hessian estimates of Cov β

As such, VMNL − VMFLOGIT

As will be seen below in section 9, inverse

based on the standard multinomial logit quasi-

likelihood yield estimated parameter t-statistics for the individual βmk that range in
this application from about 1.1 to 2.4 times smaller than those obtained using a
robust sandwich estimator.

12

Specification Testing

To assess the quality of the MFLOGIT first-moment specification fit,
conditional moment tests can be conducted that are based on cross-products of a

(

)

vector of functions of x and the estimated MFLOGIT residuals, Λ ( x ) × s − E ⎡⎣s x ⎤⎦ .
The power of such tests to detect poorness of fit depends on the specification
of Λ ( x ) . The particular form of Λ ( x ) used here is suggested by the HosmerLemeshow test strategy used commonly in the evaluation of binary logit models,
i.e. Λ ( x ) is specified as a vector of indicator functions based on L sample quantiles
of the E ⎡⎣sim xi ⎤⎦ , i.e.
λmq = N−1

∑i=11 ( ξm ( xi;β ) ∈ Jmq ) × ( sim − ξm ( xi;β ) ) ,
N

q=1,...,L

(32)

where the Jmq denote intervals on the real line defined by the sample quantiles of
the E ⎡⎣sim xi ⎤⎦ .

7.

Multivariate Fractional
Outcome Categories

Logit:

Aggregation

and

Disaggregation

of

In empirical contexts where MFLOGIT-type estimation strategies might be
applied it may sometimes be of interest to determine whether subsets of the
outcome measures sk might sensibly be aggregated or pooled (to reduce
dimensionality) or, if such data are available, disaggregated to (to refine detail).
Depending on the purpose of the analysis, aggregability of outcome categories
could be characterized in a variety of ways that include: similarity of corresponding
category-parameter vectors; similarity of corresponding category-partial effects;
and others. This discussion will focus on aggregation characterized by similarity of
parameter vectors; as such, given the MFLOGIT's first-moment structure,
aggregation and disaggregation of outcome measures are tantamount to
summation and proper subsetting, respectively.
Likelihood-based strategies for testing for aggregation or disaggregation of
categories in multinomial or nested logit models with discrete outcomes (e.g.
likelihood-ratio tests) are well established in the multinomial logit literature
(Cramer and Ridder, 1991; Hill, 1983).
These approaches are not directly
applicable in the MFLOGIT's first-moment/quasi-likelihood context, however.
Instead this discussion will consider straightforward approaches based on robust
Wald tests (a "bottom up" approach based on estimation of models for
disaggregated outcomes) as opposed to Lagrange multiplier tests (a "top down"
approach that would be more challenging to implement in the quasi-likelihood
context) or tests based on criteria like mean squared error reduction. The merits of
the approaches suggested here relative to such alternatives is for future research to
assess.

13

There are at least two fundamentally distinct circumstances in which
aggregation considerations may arise in the analysis of share data. The first
("structured aggregation") occurs when the outcome data follow some natural
and/or predefined tree structure. At each level of such a tree the share outcome
categories at that level -- which are outcome subcategories by reference to the
next-higher level -- are mutually exclusive and exhaustive and sum to one.14 The
considerations raised above notwithstanding, testing for aggregation with such tree
structures can more or less proceed using classical testing approaches. The second
circumstance ("unstructured aggregation") arises when there are again mutually
exclusive and exhaustive subcategory share outcomes that sum to one but in which
there is either no natural and/or predefined tree structure or in which the analyst
for some reason elects to ignore a given tree structure (e.g. to consider whether
subcategories in different branches can be pooled with each other). In these
circumstances, alternative testing strategies will generally be required. Prototypical
examples of each type of aggregation are displayed in figure 1.15
Only structured aggregation will be considered here. Moreover, while the
basic ideas generalize to multiple levels, this section considers only a simple twolevel aggregation context in which there are M outcome categories or aggregates
(e.g. the m=1,...,M sm measures) and R>M outcome subcategories or

M index sets Cm via
M

∩m=1 Cm = ∅ .

∑r∈Cm vr

= sm ,

M

R

∑m=1 sm =∑r =1 vr = 1 . Define implicitly
M
m=1,...,M, with ∪
C = {1,...,R} and
m =1 m

disaggregates (denoted vr, r=1,...,R) with

Thus, in the example depicted in the top panel of figure 1,

C1 = {1,2,3} , C2 = {4} , ... , and CM = {R − 2,R − 1,R} .
As such,
normalization,

E ⎡⎣sm

x ⎤⎦ = E ⎡
⎢⎣

=

∑

for m=1,...,M.

and

∑

ignoring

∑

now

a

necessary

⎛
⎜
E ⎡ v x ⎤⎦ =
n∈Cm ⎣ n
n∈Cm ⎜
⎜
⎝
⎛
⎞
exp ( θn0 + x1θn1 ) ⎟
⎜
=
R
n∈Cm ⎜
⎟⎟
exp ( θr0 + x1θr1 )
⎜
r =1
⎠
⎝

v x⎤ =
n∈Cm n
⎥⎦

⎛
⎜
n∈Cm ⎜
⎜
⎝

for

∑

∑

∑

identifying

parameter

⎞
⎟
R
⎟⎟
exp ( xθr )
r =1
⎠
exp ( xθn )

∑

(33)
⎞
⎟
⎟,
+ x1θr1 ) ⎟
⎠

exp ( θn0 + x1θn1 )
M

∑m=1 ∑r∈Cm exp ( θr0

Suppose for some k it holds that all elements of the set of slope

14

Well-known examples are two-to-six-digit NAICS/SIC industry definition codes,
one-to-three-level expenditure hierarchies used in the Consumer Expenditure
Survey, and the American Time Use Survey's two-, four-, and six-digit time-use
categories.

15

While their purpose was different that this paper's, Cotterman and Peracchi, 1992
offer a useful conceptual discussion of structured vs. unstructured aggregation.

14

parameter vectors {θn1 n ∈ Ck } are identical and equal to (say) Θk . Then
E ⎣⎡sk x ⎦⎤ =

=

where θk0 = ln

exp ⎛⎜ ln
⎝

(∑

exp ⎛⎜ ln
⎝
q∈Ck

(

exp θq0

(

(

q∈Ck

q0

q∈Ck
1

k

)

exp θk0 + x1Θk

) ∑ ∑
M
m =1
m ≠k

exp θk0 + x1Θk +

(∑

( ∑ exp (θ )) + x Θ ⎞⎟⎠
) ) + x Θ ⎞⎟⎠ + ∑ ∑ exp ( θ

( )) .

exp θq0

r∈Cm

1

M
m =1
m ≠k

k

r∈Cm

exp ( θr0 + x1θr1 )

r0

+ x1θr1 )

(34)

,

That is, the subcategory outcomes vn, n ∈ Ck ,

aggregate in the sense that they share common slope coefficient vectors. While
this is perhaps an obvious characterization of aggregation in the fractional share
outcome setting, its deeper implications are less obvious. For instance, aggregation
in this sense would imply that the aggregated subcategories all have the same
conditional x1-elasticities but not the same conditional x1-partial effects.
Given considerations of structured aggregation in this slope-coefficient sense,
at least two testing strategies are suggested.16 The first entails testing jointly the
entirety of the equality restrictions implied if the subcategories under all categories
having at least two subcategories simultaneously aggregate thusly. Note that if all
outcome subcategories branching from the aggregated outcome categories
aggregated in the slope-coefficient sense, it would follow that
E⎡
⎣⎢

∑

v x ⎤ = E ⎡⎣sk x ⎤⎦ =
n∈Ck n
⎦⎥

(

exp θk0 + x1Θk
M

∑m=1

(

)

exp θm
0 + x1Θm

)

,

k=1,...,M.

(35)

Given estimates of the subcategory model, this test could be conducted as a
straightforward Wald test of the implied parameter restrictions on the (p-1)-vectors
θr1 . Under a null hypothesis of slope-coefficient aggregation, such a test statistic
would follow a large-sample χ2(p −1)(N−M) distribution.17
A second and likely more useful approach involves testing separately each
candidate subcategory aggregation. For each k this entails testing jointly the
equality of the elements in {θn1 n ∈ Ck } via Wald tests. In isolation, such test
2
statistics would follow null χ(#C

k −1)×(p −1)

distributions.

However, simultaneous

16

These testing strategies follow the basic approach of Cramer and Ridder, 1991,
except that Cramer and Ridder: are concerned with discrete outcomes; rely on
likelihood-ratio tests; and do not address issues of multiple testing that are raised
below.
17

Computational details for these Wald tests are provided in Appendix 2.
15

testing of such restrictions across as many as M aggregate categories presents a
multiple comparisons problem. Using the Benjamini-Yekutieli, 2001, conservative
false discovery rate control approach (or related methods) to modify the set of
reference rejection p-values may provide some protection against false positives.18
8. Dirichlet-Multinomial Estimation
Given the discrepancy between the empirical and QMLE pseudo-multinomial
second moment structures, it should in principle be possible to improve estimator
efficiency if reasonable conditional second-moment assumptions can be made
(Gourieroux et al., 1984a). While the share structure of the data provides some
guidance on such specifications (e.g. that, like the first moments, the second
moments must themselves be bounded) there appears to be little additional general
guidance about second-moment specification offered by the data themselves.
A more-structured alternative approach is to postulate a probability model for
the data that can describe the important features of the data recognizing, of
course, that there is an inconsistency cost that may be incurred if such a probability
model is incorrectly specified. Of course, circumstances may arise when the entire
conditional probability structure of the multivariate outcomes is of interest, in which
case the first-moment estimates offered by MFLOGIT will not be adequately
informative.
One working probability model that exhibits underdispersion relative to a
multinomial structure and that also accommodates positive probability mass19 for
shares sk=0 and sk=1 is based on a Dirichlet mixture of multinomials ("DM") or
multivariate negative hypergeometric (Johnson et al., 1997, pp. 80ff), which is the
multivariate version of the beta-binomial distribution (Heckman and Willis, 1977).20
Imagine that some underlying multivariate T-trial counts n = ⎣⎡nk ⎦⎤ , k=1,...,M, follow
a conditional DM probability model

18

One minor detail to be considered is the normalization used to estimate the Rcategory disaggregated-outcome model. If this normalization is on (say) the R-th
category vR, i.e. θR = 0 , and if R is an element of a multi-element index set Ck (e.g.
as depicted in the top panel of figure 1, where CM = {R − 2,R − 1,R} ), then the Wald

tests for aggregation described above would entail testing the other slope
parameters in this branch -- e.g. θ(R −2 )1 and θ(R −1)1 , with CM = {R − 2,R − 1,R} -against the nonstochastic zero vector 0(p −1) .
19

See Vanness and Hanmer, 2010, for a related discussion in a univariate and
Bayesian context.
20

See Guimarães and Lindrooth, 2007, for an interesting econometric application of
the DM distribution.
16

DM (n x;T ) =

Γ ( T + 1) Γ

(

Γ T+

(∑

M

∑m=1

M

a
m =1 m

am ( x )

)

( x ) ∏m=1 Γ (nm + am ( x ) )

)∏

M
m =1

M

{

}

Γ (nm ) Γ ( am ( x ) )

,

(36)

M

with n ∈ {0,1, … , T} , 1' n = T , and ak ( x ) = exp ( xζk ) a natural parameterization.

Letting A ( x ) =

M

∑m=1 am ( x ) ,

the conditional marginal mean and marginal variance

of the nk are given by
E ⎡⎣nk x;T ⎤⎦ =

Tak ( x )
A (x)

and

⎛ T + A ( x ) ⎞ ⎛ ak ( x ) ⎞ ⎛ 1 ⎞
,
V ar (nk x ;T ) = T ⎜
⎜ 1 + A ( x ) ⎟⎟ ⎜⎜ A ( x ) ⎟⎟ ⎜⎜ A ( x ) ⎟⎟
⎝
⎠⎝
⎠⎝
⎠

(37)

where the latter expression is seen to be ( T + A ( x ) ) (1 + A ( x ) ) times the conditional
marginal variance of the underlying T-trial multinomial distribution, taking
ak ( x ) A ( x ) as the multinomial probabilities.
Given

these

counts,

the

shares

sk ∈ ⎡⎣0,1⎤⎦ -- or, more
sk ∈ {0,1 T ,2 T , … ,1} -- are given by sk = nk / T , so that, in particular,
a (x)
E ⎡⎣sk x ⎤⎦ = k
A (x)
Since

and

( T + A ( x ) ) ( T (1 + A ( x ) ) )

Var ( sk x ;T ) =

1 ⎛ T + A ( x ) ⎞ ⎛ ak ( x ) ⎞ ⎛ 1 ⎞
⎜
⎟⎜
⎟⎜
⎟.
T ⎜⎝ 1 + A ( x ) ⎟⎠ ⎜⎝ A ( x ) ⎟⎠ ⎜⎝ A ( x ) ⎟⎠

precisely,

(38)

is less than one for T>1, Var ( sk x ;T ) is smaller

than the conditional variance of a one-trial multinomial distribution having a
corresponding conditional first-moment or probability structure, which in turn is the
quasi-likelihood model for the MFLOGIT. It is also easily shown that Var ( sk x ;T ) is
decreasing in T.
Since T does not vanish from the probability model for or the conditional
variance functions of the sj, the application of the DM(.) model in cases where T
does not have a natural interpretation is clearly as an approximation to the true
probability model. In some instances, a particular specification for T might be
suggested naturally by the nature of the data's measures (e.g. 1,440 integermeasured minutes in a day or some integer-measured number of currency units in
a budget). In other instances, however, specifying a value for T will be ad hoc.
Moreover, when the measures of the observed share data do not follow a natural
lattice structure (i.e. sk ∈ {0,1 r ,2 r ,...,r r} ) but instead are "continuously"
measured, some coarsening of the data that maps sk into scj will be required for
nkc = Tskc to satisfy nkc ∈ {0,1,… , T} as necessary for the DM distribution.
Two DM models are estimated here for comparison with the MFLOGIT results
discussed above. For present purposes, two coarsenings of the data that imply

17

different values for T are considered. For T=10 and T=100, these are given by
c
nkT
= floor Ts j
(i.e. ⎢ Ts j ⎥ ) for all shares except the share with the largest
⎣
⎦
empirical marginal frequency while the coarsened measure corresponding to that

( )

share (k) is given by ncjT = T −

M

c
∑mm=≠1j nmT

to ensure proper adding up. The resulting

parameter and APE estimates are then compared with each other and with those
obtained
from
the
MFLOGIT
estimator.
Given
the
specification

∑

M

E ⎡⎣sk x ⎤⎦ = ak ( x ) / A ( x ) = exp ( xζk ) /
exp ( xζ m ) ,
and
normalizing
postm =1
estimation on ζM (since all M ζM 's are identified, unlike the MFLOGIT QMLE), some
comparability of the point estimates of ζM and βk and, in particular, of the
corresponding APE estimates might be expected if the DM likelihood is a reasonable
approximation to the true probability model.
9. Modeling Financial Asset Portfolio Shares
Data and Estimation Sample

This section demonstrates some of the properties of the share model
estimators and tests described above by estimating regression models of financial
asset portfolio shares. Estimation of portfolio share models has been considered by
Heaton and Lucas, 2000, and by Poterba and Samwick, 2001, 2002, among others.
The data used are from the combined public use 2001, 2004, and 2007 U.S.
Surveys of Consumer Finances (SCF). The SCF is a triennial sample whose
collection is sponsored by the U.S. Federal Reserve to provide information on the
financial circumstances of U.S. families (for details on the SCF, see Bucks et al,
2009). This combined sample comprises 13,379 household-level observations.
Household-level sampling weights provided in the SCF are used in the computation
of the APE estimates (note that the SCF weights are designed for within-year but
not necessarily across-year weighting).
This analysis focuses specifically on
financial assets and the ten major subcategories of financial assets defined in the
SCF listed in the top panel of table 2. Additional details on the data are provided in
Appendix 3.
These data are summarized in figure 2 and in the top panel of table 2. In the
sample of 12,723 household observations with defined shares, it might be noted
that only six households (.047%) have strictly positive shares for all ten financial
asset categories, whereas for 2,348 (18.5%) of the sample's households some
financial asset category share is 1.0. Covariates used in the analysis are: age in
years of household head (Age); a dummy for race of survey respondent (White); a
dummy for marital status of household head (Married); number of children in the
household (Number of Kids); dummies for educational attainment (High School
Graduate, Some College, and College Graduate); and survey year dummies (Year
2004, Year 2007).21 Descriptive statistics for these covariates are presented in the
21

These specifications do not include Total Financial Assets as a covariate.
Whether it is appropriate to do so entails issues akin to those involved in whether
(cont.)

18

bottom panel of table 2.
MFLOGIT Parameter Estimates and Inference

The MFLOGIT parameter estimates, normalized on the M-th (Other Financial
Assets) category, are reported in table 3. Owing to the normalization, it is not
straightforward to interpret the signs or magnitudes of these estimates. For
purposes of hypothesis testing, however, such relative magnitudes may be
informative, so asymptotic standard errors based on the robust sandwich estimator
are presented in the table. Due to the large number of parameters ( p × (M − 1) =90)
estimated, a multiple comparisons situation may arise for hypothesis testing. As
such, and to accommodate the mutual dependence parameter estimates, the
conservative false discovery rate (FDR) rejection criteria suggested by Benjamini
and Yekutieli, 2001, are computed and point estimates with sufficiently small
standard errors to meet these criteria are shaded in the table.
The extent of underdispersion in the data (relative to the nominal
multinomial quasi-likelihood) can be appreciated in several ways. As suggested in
section 6, the difference between the empirical multinomial logit (inverse Hessian)
and robust sandwich parameter covariance matrixes is positive definite in the
sample (the smallest eigenvalue of the matrix difference is positive). The ratios of
non-robust to robust standard errors range from 1.12 to 2.37 over the 90
estimated parameters, suggesting a nontrivial degree of underdispersion.22
Average Partial Effects

Table 4 presents the weighted APE estimates and bootstrap 95% CIs (based
on 500 bootstrap replications) across the M=10 outcomes.
Recall that by
construction the row sum of the APEs for each covariate will be zero. In this
exercise, the schooling attainment and the year indicator variables are treated as
groupwise dummies as discussed in Appendix 1.
Overall the estimated patterns of partial effects appear reasonable. The Age
effects are consistent with the bulk of the estimation sample being of preretirement ages (70% are under age 60). Estimated patterns for Married and
Number of Kids accord with the kinds of investment behaviors one would anticipate
(cont.)

to include a measure of total expenditure as a covariate in a consumer expenditure
share model.
22

Given the considerable size of the estimated parameter covariance matrix (4,095
unique elements), a comparison bootstrap covariance matrix was estimated using
1,000 bootstrap replicates to check the performance of the standard robust
sandwich parameter covariance estimator. Across the 90 parameters estimated in
this specification, the mean and median ratios of robust to bootstrap standard
errors were .993 and .999, respectively, with a range of 0.86 to 1.06. To the
extent that this result generalizes, use of the sandwich estimator in empirical
applications of the MFLOGIT estimator may be reasonable.
19

for such household structures for many of the shares (e.g. Liquid Assets, QuasiLiquid Retirement Accounts, Directly Held Pooled Funds, Cash Value Whole Life).
For many of the shares (e.g. Liquid Assets, Quasi-Liquid Retirement Accounts,
Directly Held Pooled Funds, Directly Held Stocks), the estimated schooling
attainment APEs are particularly large and precisely estimated, likely reflecting the
schooling variables proxying for the most important human capital and wealth
effects in these models. Finally the estimates for the year dummies show some
interesting time trends for several of the share outcomes (e.g. Quasi-Liquid
Retirement Accounts, Directly Held Stocks, Cash Value Whole Life, Other Managed
Assets).
MFLOGIT Estimator Performance

For the conditional moment tests described in section 6, this application
specifies the Λ ( x ) based on the vingtiles of each of the E ⎡⎣sik xi ⎤⎦ resulting in L=20
test indicators for each sk outcome. The sampling variation of these test indicators
is estimated using 500 bootstrap replications, resulting in 95% CIs for each
2
indicator-outcome combination as well as an overall χLM
−1 goodness-of-fit test
statistic for the full multivariate model.
The results are summarized in figure 3, which depicts for each of the M=10
share outcomes and at each of the L=20 vingtiles the test statistic point estimate
( N × λmq ; dark line) and its bootstrap 95% CI (shaded area). Multiple comparisons
concerns notwithstanding, the results depicted in figure 3 show only relatively few
instances where the 95% CIs fail to cover zero, and these are typically in the tails
with the exception of (Liquid Assets, Directly Held Stocks). In a few cases (QuasiLiquid Retirement Accounts, CDs, Directly Held Stocks, Other Financial Assets)
there is at least a suggestion of a U- or inverse U-shaped pattern across the
vingtiles (underprediction in the tails and overprediction in the center, or vice2
versa). Finally, the overall conditional moment χ199
test statistic is 674.2 (p-value
effectively zero).
Several general model performance statistics are summarized in table 5. For
this exercise, the MFLOGIT estimator was compared with a set of M=10 univariate
linear regression (estimated by OLS) and univariate Tobit estimators that include
the same covariate vector as used in the MFLOGIT models. The first performance
criteria were out-of-sample MPE and MSE as assessed by an 80/20 cross-validation
averaged over 100 replications. For this exercise, the linear model dominates
MFLOGIT and Tobit on the MPE criterion while MFLOGIT generally dominates the
linear model and Tobit on the MSE criterion. One obvious potential drawback of the
linear model is that its predictions are not restricted to obey the [0,1] interval
bounds. The rightmost columns of table 5 summarize the extent to which this is of
concern in this empirical context. The two rightmost columns provide the crossvalidation (averaged over replicates) and the in-sample frequencies with which the
linear model predictions are less than zero (predictions greater than one were not
observed). The cross-validation and in-sample frequencies are quite similar across
the share categories, and suggest that the out-of-interval prediction problem is
most severe for share categories with the smallest marginal empirical frequencies
20

(e.g. Directly Held Bonds, Other Managed Assets).
Aggregation Testing

Figure 4 depicts the tree structure of the SCF categories.
R=20
subcategories are specified for this analysis of structured aggregation as described
in section 7, with the aggregation tests described in that section applied to the
three branches with #Ck>1 (Liquid Assets, Quasi-Liquid Retirement Funds, and
Directly Held Bonds).23 The MFLOGIT point estimates of the θn parameters
corresponding to those branches and the χ2
presented in table 6.

aggregation test statistics are

The overall aggregation test for all three branches strongly rejects slopeparameter aggregation across all three branches. The individual category tests for
aggregation also strongly suggest that aggregation is not reasonable for any of
these three categories.24
Indeed, casual inspection of the individual slopeparameter point estimates indicates considerable variability within each main
category.
Dirichlet-Multinomial Estimates

Two variants of the DM model were estimated here, these reflecting different
degrees of data coarsening as discussed in section 8. Specifically, models for T=10
and T=100 were estimated. A useful, direct comparison between the DM and
MFLOGIT estimators of concern here is in terms of their performance in estimating
the conditional first-moment structure of the data, with these summarized most
straightforwardly by comparing the point estimates of the estimated APEs. This
comparison is presented in table 7. In most cases (the exceptions being the
shaded cells) the MFLOGIT and DM APE estimates have the same signs. Quite
broadly, the magnitudes of the point APE estimates roughly comparable, but
typically larger for MFLOGIT than for either the T=10 or T=100 DM estimators. One
consideration beyond the comparison of the APEs is the possible efficiency gain
from using a full-likelihood estimation approach (DM) over a first-moment
estimation approach (MFLOGIT). It turns out in this application that the efficiency
gains are small at best. For the p × (M − 1) =90 normalized parameters, the median
of the ratio of MFLOGIT to DM robust standard errors is 1.05 for the T=100 model
and 0.99 for the T=10 specification.
One test of overall goodness of fit for likelihood-based models like the DM is
the information matrix (IM) test proposed by White, 1982 (see also Chesher, 1983,
Lancaster, 1984, and Orme, 1990). With such a large model as that estimated
23

The subcategories under the Quasi-Liquid Retirement Accounts and Other
Managed Assets categories were ignored for computational reasons.
24

With only three subaggregate branches specified and in light of the large values
of the realized aggregation test statistics, the multiple comparisons issues
discussed above in section 7 are effectively irrelevant and are ignored here.
21

here, it is not obvious whether the asymptotic properties of the IM test can be
invoked given the available sample size, as the full model IM test has 4,095
degrees of freedom with a sample size of 12,723.25
Such considerations
notwithstanding, the IM test statistic is computed for the T=10 and T=100
specifications using the method suggested by Lancaster, 1984. The DM model's
χ24095 test statistics are 11,261 (T=10) and 10,575 (T=100) which, while
suggesting a slightly better fit for T=100 than for T=10, still both have effective pvalues of zero. For comparison, however, the MFLOGIT quasi-likelihood IM test
statistic based on the coarsened T=10 data is 1.72E+07. More concretely perhaps,
for all p × M =100 parameter estimates, the ratio of robust to inverse-Hessian
standard error estimates ranges from .69 to 1.12 (median 1.02) for the T=10
specification and from .62 to 1.20 (median 1.03) for the T=100 specification.
It is also possible (though not undertaken here) to compute an overall χ2
goodness-of-fit test statistic (see Andrews, 1988) for the coarsened outcome cells
or interesting aggregates thereof. In this spirit, the performance of the DM
estimator in modeling the overall conditional probability structure of the data is
summarized in figures 5 and 6 and in table 8. Figure 5 depicts for three of the
share outcomes the coarsened marginal empirical frequency distribution juxtaposed
with the estimated marginal empirical frequencies from the T=10 and T=100
specifications (the latter computed as the sample averages of the conditional
frequencies). Figure 6 shows Lorenz curve summaries in which are plotted the
T=100 marginal cumulative probability estimates against the corresponding
cumulative 101 coarsened cell frequencies in the data. For Liquid Assets, QuasiLiquid Retirement Accounts, Directly Held Pooled Funds, and Directly Held Stocks
there are some noteworthy fit problems. Finally, table 8 summarizes the quality of
fit of the DM estimators at the s=0 and s=1 endpoints. For most of the share
outcomes, the T=100 estimator provides a much closer fit to the marginal empirical
frequencies than does the T=10 estimator.
Overall, then, the merits of estimating and conducting inference using DM
models in a full likelihood context are mixed. One presumably trades off some
robustness relative to approaches like MFLOGIT in estimating first-moment models,
with the differences in corresponding APE point estimates between the two
approaches perhaps being nontrivial, at least in this empirical exercise. However, if
one is interested in estimating the full conditional probability structure of such
models (perhaps at the cost of using coarsened data), the DM approach may be a
useful strategy to consider.
10. Summary and Discussion
With a central focus on estimation of conditional means, this paper has
25

For comparison with the MFLOGIT quasi-likelihood, the parameter estimates are
normalized against the Other Financial Assets baseline, thus reducing the
dimensionality of the test.
22

proposed econometric strategies for estimating regression models of economic
share data in cases where shares assume values of zero and one with nontrivial
probability. The main contribution has been to explore properties of an extension
to share models of the fractional regression methodologies proposed by Papke and
Wooldridge.
Several outstanding issues should be important items on the future research
agenda. First involves further considerations of share category aggregation or
disaggregation beyond those offered in section 7. A second consideration involves
"covariate adjustment." For instance, in applications where understanding the
determinants of shares net of the influence of some conditioning covariates is a
prominent issue, the manner in which covariates are netted out is critical. How to
effect this in a framework that involves bounded shares that obey adding-up
restrictions is an open question.
Third, in some empirical contexts (e.g. like the portfolio share example
presented here) there is necessarily selection on subsamples for which shares are
defined (by nonzero denominators). This raises an important issue regarding for
which populations inferences drawn from the estimated share models are relevant.
While in some sense a garden variety selection problem, the issue of how to
address this in the MFLOGIT or related estimation contexts remains unresolved.
Finally, a possible extension of this line of work would be to consider analogs
to conditional logit (Hausman and McFadden, 1984) estimation that would fit into
the fractional outcome data setting. While analogies to the discrete outcome
random utility (RUM) framework are not obvious, the implied moment structures of
such models might offer statistical tools for analyzing data where outcome-specific
covariates or attributes are available. For instance, one might imagine a time use
study in which time prices or wage rates for each outcome are available. Briefly,
consider a situation where a vector of attributes for the k-th outcome is given by
wk with the vector w = ⎡⎣ wk , w −k ⎤⎦ describing the entirety of such attributes over
all outcomes. Then the first-moment share structure corresponding to a standard
RUM model (with normalization wM=0) would be given by:
E ⎡⎣sk wk , w −k ⎤⎦ = E ⎡⎣sk w ⎤⎦ =

exp ( wk δ )
1+

M −1

∑m=1

exp ( wmδ )

,

k=1,...,M,

(39)

which could be extended to accommodate x in a mixed-logit structure,
E ⎡⎣sk x, w ⎤⎦ =

exp ( xβk + wk δ )
1+

M −1

∑m=1

exp ( xβm + wmδ )

,

k=1,...,M.

(40)

Of course, in the absence of an underlying RUM structure, the influences of such
outcome-specific attributes could also be captured in a standard MFLOGIT
conditional mean model with

23

E ⎡⎣sk x, w ⎤⎦ =

exp ( xβk + wδk )
1+

M −1

∑m=1

exp ( xβm + wδm )

,

k=1,...,M,

(41)

in which the δk would describe different patterns of own-w vs. cross-w effects
across k=1,...,M.
Acknowledgements
I am indebted to participants at presentations of various aspects of this work
at Catholic University of Rome, Michigan State University, the University of Arizona,
the University of Coimbra, University College Dublin, and UW-Madison, as well as to
Marguerite Burns, Ben Craig, Alberto Holly, Steve Koch, José Murteira, Stephanie
Robert, Nilay Shah, João Santos Silva, and Dave Vanness for their thoughtful
comments, suggestions, and discussions.
In addition, Badi Baltagi and Jeff
Wooldridge provided some helpful guidance with the literature.
All these
colleagues, of course, are absolved from any blame for the paper's shortcomings.
Partial financial support from the Robert Wood Johnson Foundation Health & Society
Scholars Program is acknowledged. Some of this work was completed as a visiting
scholar at the UCD Geary Institute, which provided brilliant hospitality.

24

References
Aitchison, J. 1982. "The Statistical Analysis of Compositional Data." JRSS-B 44:
139-177.
Andrews, D.W.K. 1988. "Chi-Square Diagnostic Tests for Econometric Models:
Theory." Econometrica 56: 1419-1453.
Benjamini, Y. and D. Yekutieli. 2001. "The Control of the False Discovery Rate in
Multiple Testing under Dependency." Annals of Statistics 29: 1165-1188.
Berry, S., J. Levinsohn, and A. Pakes. 1995. "Automobile Prices in Market
Equilibrium." Econometrica 63: 841-890.
Billheimer, D., P. Guttorp, and W.F. Fagan. 2001. "Statistical Interpretation of
Species Composition." JASA 96: 1205-1214.
Brown, B.W. and M.B. Walker. 1989. "The Random Utility Hypothesis and Inference
in Demand Systems." Econometrica 57: 815-829.
Bucks, B.K., A.B. Kennickell, T.L. Mach, and K.B. Moore. 2009. "Changes in U.S.
Family Finances from 2004 to 2007: Evidence from the Survey of Consumer
Finances." Federal Reserve Bulletin 95: A1-A55.
Chavas, J.-P. and K. Segerson. 1987. "Stochastic Specification and Estimation of
Share Equation Systems." Journal of Econometrics 35: 337-358.
Chesher, A. 1983. "The Information Matrix Text: Simplified Calculation via a Score
Test Implementation." Economics Letters 13: 45-48.
Christensen, L.R., D.W. Jorgenson, and L.J. Lau. 1975. "Transcendental Logarithmic
Utility Functions." American Economic Review 65: 367-383.
Considine, T.J. and T.D. Mount. 1984. "The Use of Linear Logit Models for Dynamic
Input Demand Systems." Review of Economics and Statistics 66: 434-443.
Cotterman, R. and F. Peracchi. 1992. "Classification and Aggregation: An
Application to Industrial Classification in CPS Data." Journal of Applied
Econometrics 7: 31-51.
Cramer, J.S. and G. Ridder. 1991. "Pooling States in the Multinomial Logit Model."
Journal of Econometrics 47: 267-272.
Crawford, D.L., R.A. Pollak, and F. Vella. 1998. "Simple Inference in Multinomial
and Ordered Logit." Econometric Reviews 17: 289-299.
Dubin, J.A. 2007. "Valuing Intangible Assets with a Nested Logit Market Share
Model." Journal of Econometrics 139: 285-302.
Fry, J.M., T.R.L. Fry, and K.R. McLaren. 1996. "The Stochastic Specification of
Demand Share Equations: Restricting Budget Shares to the Unit Simplex."
Journal of Econometrics 73: 377-385.
Gourieroux, C., A. Monfort, and A. Trognon. 1984a. "Pseudo Maximum Likelihood
Methods: Theory." Econometrica 52: 681-700.
Gourieroux, C., A. Monfort, and A. Trognon. 1984b. "Pseudo Maximum Likelihood
Methods: Applications to Poisson Models." Econometrica 52: 701-720.
Graybill, F.A. 1983. Matrixes with Applications in Statistics. Belmont, CA: Wadsworth
Publishing.
Guimarães, P. and R.C. Lindrooth. 2007. "Controlling for Overdispersion in Grouped
Conditional Logit Models: A Computationally Simple Application of DirichletMultinomial Regression." Econometrics Journal 10: 439-452.
Hansen, B. 2010. Econometrics. Textbook manuscript, Dept. of Economics, UWMadison.
Hausman, J. and D. McFadden. 1984. "Specification Tests for the Multinomial Logit
Model." Econometrica 52: 1219-1240.
25

Heaton, J. and D. Lucas. 2000. "Portfolio Choice and Asset Prices: The Importance of
Entrepreneurial Risk." Journal of Finance 55: 1163-1198.
Heckman, J.J. and R.J. Willis. 1977. "A Beta-Logistic Model for the Analysis of
Sequential Labor Force Participation by Married Women." Journal of Political
Economy 85: 27-58.
Hill, M.A. 1983. "Female Labor Force Participation in Developing and Developed
Countries-Consideration of the Informal Sector." Review of Economics and
Statistics 65: 459-468.
Intriligator, M.D. 1971. Mathematical Optimization and Economic Theory.
Englewood Cliffs, NJ: Prentice-Hall.
Johnson, N.L., S. Kotz, and N. Balakrishnan. 1997. Discrete Multivariate
Distributions. New York: Wiley.
Koch, S.F. 2010. "Fractional Multinomial Response Models with an Application to
Expenditure Shares." Mimeo.
Kooreman, P. and A. Kapteyn. 1987. "A Disaggregated Analysis of the Allocation of
Time within the Household." Journal of Political Economy 95: 223-249.
Lancaster, T. 1984. "The Covariance Matrix of the Information Matrix Test."
Econometrica 52: 1051-1053.
Lee, L.-F. and M.M. Pitt. 1986. "Microeconometric Demand System with Binding
Nonnegativity Constraints: The Dual Approach." Econometrica 54: 12371242.
McElroy, M.B. 1987. "Additive General Error Models for Production, Cost, and
Derived Demand or Share Systems." Journal of Political Economy 95: 737757.
Morey, E.R., D. Waldman, D. Assane. and D. Shaw. 1995. "Searching for a Model of
Multiple-Site Recreation Demand That Admits Interior and Boundary
Solutions." American Journal of Agricultural Economics 77: 129-140.
Mullahy, J. 2004. "Squandering Time? Economic Aspects of Children's Time Use."
Working Paper, University of Wisconsin.
Mullahy, J. and S.A. Robert. 2010. "No Time to Lose: Time Constraints and Physical
Activity in the Production of Health." Review of Economics of the Household
(in press).
Orme, C. 1990. "The Small-Sample Performance of the Information-Matrix Test."
Journal of Econometrics 46: 309-331.
Papke, L.E. and J.M. Wooldridge. 1996. "Econometric Methods for Fractional
Response Variables with an Application to 401(k) Plan Participation Rates."
Journal of Applied Econometrics 11: 619-632.
Papke, L.E. and J.M. Wooldridge. 2008. "Panel Data Methods for Fractional
Response Variables with an Application to Test Pass Rates." Journal of
Econometrics 145: 121-133.
Poterba, J.M. and A.A. Samwick. 2001. "Household Portfolio Allocation over the Life
Cycle." Chapter 2 in S. Ogura, T. Tachibanaki, and D.A. Wise, eds., Aging
Issues in the United States and Japan. Chicago: University of Chicago Press
for NBER.
Poterba, J.M. and A.A. Samwick. 2002. "Taxation and Household Portfolio
Composition: U.S. Evidence from the 1980s and 1990s." Journal of Public
Economics 87: 5-38.
Ramalho, E.A., J.J.S. Ramalho, and J.M.R. Murteira. 2010. "Alternative Estimating
and Testing Empirical Strategies for Fractional Regression Models." Journal of
Economic Surveys (forthcoming).
26

Sivakumar, A. and C. Bhat. 2002. "Fractional Split-Distribution Model for Statewide
Commodity-Flow Analysis." Transportation Research Record 1790: 80-88.
Vanness, D.J. and J. Hanmer. 2010. "Health Utility Crosswalks: A Bayesian Beta
Regression Approach." Presented at the 3rd Biennial Conference of the
American Society of Health Economists, Cornell University.
Wales, T.J. and A.D. Woodland. 1977. "Estimation of the Allocation of Time for
Work, Leisure, and Housework." Econometrica 45: 115-132.
White, H. 1982. "Maximum Likelihood Estimation of Misspecified Models."
Econometrica 50: 1-25.
Woodland, A.D. 1979. "Stochastic Specification and the Estimation of Share
Equations." Journal of Econometrics 10: 361-383.
Ye, X. and R.M. Pendyala. 2005. "A Model of Daily Time Use Allocation Using
Fractional Logit Methodology." In H.S. Mahmassani, Ed. Transportation and
Traffic Theory: Flow, Dynamics, and Human Interaction. Oxford: Pergamon,
Elsevier Science Ltd.

27

Appendix 1: Average Partial Effects for MFLOGIT Models
The general formula for the APE is
APEmk =

N

⎛

⎞
⎟ PEmki =
⎟
⎝ n =1wn ⎠
wi

∑i=1 ⎜⎜ ΣN

⎞ δE ⎡⎣ yim xi ⎤⎦
,
⎟
⎟
δxik
⎝ n=1wn ⎠

⎛

N

wi

∑i=1 ⎜⎜ ΣN

where " δ " denotes either "Δ " or "∂ " and where the wi are nonnegative weights
that may be used to estimate, for instance, population average APEs (wi=1 for all i
gives constant weight 1/N).

Note that

M

∑m=1 APEmk

= 0 due to the adding-up

restriction. In the case where xik is a dummy variable, APEmk is computed as the
(perhaps weighted) sample average, evaluated at β = β , of the difference

PEmki =

(

)

(

)

exp x −k,iβm, −k + βmk
exp x −k,iβm,−k
ΔE ⎡⎣sim xi ⎤⎦
=
−
,
M
1
M −1
−
Δxik
1+
exp x −k,iβ j,−k + β jk
1+
exp x −k,iβ j,−k

(

∑ j=1

)

∑ j=1

(

)

or the derivative

PEmki

(

1+
∂E ⎡⎣sim xi ⎤⎦
=
= exp ( xiβm ) ×
∂xik

∑ j=1 exp ( xiβ j ) ) × βmk − ∑ j=1 exp ( xiβ j ) × β jk
M−1

M−1

(1 + ∑

M −1
j =1

(

exp xiβ j

))

2

,

where x-k,i is the vector xi for the i-th observation with the k-th element excluded.26
Hansen, 2010, gives the lower and upper limits of the C2 (1 − α ) -CI for
arbitrary statistic θ as:

( { }) = θ − q{

CIL α, θ, θb

{θb} ( τ )

where q

θb

} (1 − .5α )

( { }) = θ − q{

and CIU α, θ, θb

θb

} (.5α ) ,

is the τ -th quantile of the bootstrap sampling distribution

{θ } .
b

When θ = APEmk , there are at least three possibilities for bootstrapping to estimate
the (1 − α ) -CI:
26

When dummy variables are included in x as mutually exclusive and exhaustive
(save an "omitted" category) members of sets of indicators -- e.g. race/ethnicity
groups, educational attainment indicators -- setting up the discrete APE to capture
the proper counterfactual is accomplished by zeroing out all of the group's dummy
variables at baseline (i.e. setting all group dummies for all observations equal to
the omitted category) and then setting the xik the variable in question equal to one
for all observations.

28

(a) Accommodate variation in x and β : Bootstrap the APEs via bootstrap draws

)

(

⎡ y ,x
⎤ from ( y, x ) that estimate β and, correspondingly,
b
⎣⎢ i(b ) i(b ) ⎦⎥
1 N
x ;βb ; accumulate the APEmkb xb ;βb
PE
APEmkb xb ;βb =
N i(b ) =1 mki(b ) i(b )
in the B-vector ⎡⎢ APEmkb xb ;βb ⎤⎥ , and base CIs on suitable percentiles of
⎣
⎦

( yb , xb ) =

(

)

(

∑

(

)

)

)

(

(

)

⎡ APE
⎤
mkb xb ;βb ⎥ .
⎢⎣
⎦
(b) Accommodate variation in β only: Bootstrap the APEs via bootstrap draws

( yb , xb )

( y, x )

from

(

)

APEmkb x;βb =

vector
⎡ APE
mkb
⎢⎣

1
N

(

that

)

and,

∑i=1 PEmki ( xi;βb ) ; accumulate the
N

)

⎡ APE
⎤
mkb x;βb ⎥ ;
⎢⎣
⎦
x;βb ⎤⎥ .
⎦

(

βb

estimate

and

base

CIs

on

correspondingly,

(

APEmkb x;βb

suitable

) in the B-

percentiles

of

(c) Accommodate variation in β only, with weighting: Bootstrap the APEs via
unweighted bootstrap replicates

(

)

from

( y, x )

that estimate βb and,

⎛ wi ⎞
⎜ N
⎟ PEmki xi;βb ; accumulate the
⎟
⎝ Σn =1wn ⎠
w
x;βb ⎤⎥ ; and base CIs on suitable
in the B-vector ⎡⎢ APEmkb
⎣
⎦

(

) ∑

w
correspondingly, APEmkb
x;βb =
w
APEmkb
x;βb

( yb , xb )

(

(

N

i =1 ⎜

(

)

)

)

w
percentiles of ⎡⎢ APEmkb
x;βb ⎤⎥ .
⎣
⎦

The estimates presented in tables 4 and 7 are based on approach (c), but in this
application it turns out that the CIs estimated using (a), (b), or (c) are quite similar
(tables showing alternatives are available on request).

29

Appendix 2: Computation of Wald Test Statistics for Slope-Parameter
Aggregation
Let θ = vec ( ⎣⎡θ1, … , θN−1 ⎤⎦ ) denote the p (N − 1) × 1 vector of estimable
parameters and suppose N>M. Let θ be defined such that: (a) disaggregated
subcategory outcomes from the same multi-subcategory branch have
corresponding θk that are adjacent in θ ; (b) that the first element of each θk is
'

' ⎤
the "intercept" parameter, i.e. θk = ⎡θk0 , θk1
; and (c) the K ( 0 ≤ K < M ) aggregate
⎣
⎦
outcome categories that branch to only single outcome subcategories correspond to
the bottom rows of θ . It is assumed that the normalization θN = 0 has been

imposed and, for simplicity of exposition, that subcategory vN is not being
considered for aggregation with other subcategories. Then the Wald test statistics
described in section 7 are given by the standard formula

( ) ( ) ( ( ) ) (Rθ) ,

wald θ = Rθ

()

where V θ

'

RV θ R '

−1

is the estimate of the robust MFLOGIT covariance estimator given in

(25).
The test for the entirety of slope-parameter aggregations specifies R as
follows. Let
Jp = ⎡⎢0(p −1)×1, I(p −1) ⎤⎥ ,
⎣
⎦

( )

dim Jp = (p − 1) × p ,

and

⎡
⎢
⎢
Rk = ⎢ ⎡⎢blockdiag(#C −1) Jp ⎤⎥ ,
k
⎣
⎦
⎢
⎢
⎣

( )

dim (Rk ) =

⎡ − Jp ⎤ ⎤
⎢
⎥⎥
⎢ − Jp ⎥ ⎥
⎢
⎥⎥ ,
⎢
⎥⎥
⎢ − Jp ⎥ ⎥
⎣
⎦⎦

k=1,...,(M-K),

( (p − 1) (#Ck − 1) ) × (p#Ck ) .

Then
R = ⎡blockdiag k =1,…,(M−K ) ( ⎡⎣Rk ⎤⎦ ) , 0(p −1)(N−M)×p (K −1) ⎤ ,
(
)
⎣⎢
⎦⎥

dim (R ) = (p − 1) (N − M) × p (N − 1) .

()

In this case wald θ follows a χ2(p −1)(N−M) distribution under the null.
For testing subcategory aggregation under a single outcome aggregate (say
the m-th), the corresponding specification of R is
⎡
R = ⎢0
⎢ (p −1)(#Cm −1)×p ⎛⎜⎝
⎣

, Rm, 0
⎞

∑k <m#Ck ⎠⎟

(p −1)(#Cm −1)×p ⎛⎜ N−1− ∑
⎝

30

⎤
⎥,
#Ck ⎞⎟ ⎥
k ≤m
⎠⎦

with Rm specified as Rk above and dim (R ) = (p − 1) (#Cm − 1) × p (N − 1) . In this case

()

2
wald θ follows a χ(p
−1)(#C

m −1)

distribution under the null.

31

Appendix 3: Survey of Consumer Finances Data
Downloaded in February and March 2010, the public use data files are
contained in:
http://www.federalreserve.gov/pubs/oss/oss2/2007/scfp2007.zip
http://www.federalreserve.gov/pubs/oss/oss2/2004/scfp2004.zip
http://www.federalreserve.gov/pubs/oss/oss2/2001/scfp2001.zip
The financial asset data used in this analysis are derived at the household
level by averaging over the five SCF "implicates" (imputed replicates) for each
category, summing these household averages to obtain household total financial
assets, and then obtaining the category shares as the ratios of the category
implicate averages to this household total, so-defined. Specifically, for each survey
year's sample, the Stata v.10 code used to compute the category shares is:
sort yy1
mac def nlfin "liq cds nmmf savb stoc bond cashli othma retq othf"
mac def nlfina "aliq acds anmmf asavb astoc abond acashli aothma aretq aothf"
foreach var of varlist $nlfin {
by yy1: egen a`var'=mean(`var')
}
egen afin=rowtotal($nlfina)
foreach var of varlist $nlfin {
gen sh`var'=a`var'/afin
}

This results in defined shares for 12,723 of the 13,379 total household-level
observations.

32

Figure 1
Structured and Unstructured Aggregation: Examples

1.00
s1
v1

v2

s2
v3

v4

s3
v5

...
v6

sM

...

vR-2

vR-1

vR

Structured Aggregation

1.00
s1
v1

s2
v2

v3

s3
v4

v5

...
v6

Unstructured Aggregation

33

...

sM
vR-2

vR-1

vR

18-44

01
20
20
20

45-64

01
04

65+

01
04

0

.25

.5

.75

20

07

20

20
2
2
07 004 001

20

07

20

20
2
2
07 004 001

20

07

20

04

18-44
45-64
65+

20
2
2
07 004 001

Figure 2
Survey of Consumer Finances, Combined 2001, 2004, 2007 Sample:
Financial Assets (N=13,379) and Financial Asset Shares (N=12,723), by Age and Year (Weighted)

50,000
Median

150000

250000

350000

Mean

34

Liquid
Assets

Quasi-Liq.
Retirement

CDs

DH Pooled
Funds

Savings
Bonds

DH
Stocks

DH
Bonds

Cash Value
Whole Life

Other Mgd.
Assets

Other
Fin. Assets

1

Figure 3
MFLOGIT Conditional Moment (CM) Tests Based on Percentiles of Estimated E[s|x]: Test Statistics N × λmq and Bootstrap 95%-CI
Lower and Upper Bounds (CIs based on 500 Bootstrap Replications and Hansen C2 Method)

CDs

Percentile of Estimated E[s|x]

-50
100

0

Directly Held Stocks

Percentile of Estimated E[s|x]

-50
100

Percentile of Estimated E[s|x]

0

Cash Value Whole Life

Percentile of Estimated E[s|x]

-50
100

0

Percentile of Estimated E[s|x]

35

-50
100

CM Test Statistic
0

Other Managed Assets
50

CM Test Statistic
0

-50
100

50

CM Test Statistic

CM Test Statistic
Percentile of Estimated E[s|x]

50

CM Test Statistic
Percentile of Estimated E[s|x]

0

Directly Held Bonds
50

0

-50
100

Savings Bonds
50

Percentile of Estimated E[s|x]

-50
100

0

Percentile of Estimated E[s|x]

-50
100

Other Financial Assets
50

CM Test Statistic

0

Directly Held Pooled Funds
50

CM Test Statistic

CM Test Statistic

50

50

-50
100

CM Test Statistic

Quasi-Liquid Retirement Accounts
50

CM Test Statistic

Liquid Assets

0

Percentile of Estimated E[s|x]

-50
100

Figure 4
Surveys of Consumer Finances: Financial Asset Share Category Tree Structure
(Subcategories Shaded in Light Gray Are the N=20 vn Used in the Empirical Analysis;
Subcategories Shaded in Dark Gray Are Not Used in Empirical Analysis)
Total Financial Assets
Liquid Assets
Money Market Accounts
Checking Accounts
Savings Accounts
Call Accounts
Quasi-Liquid Retirement Accounts
IRAs / Keoghs
Account-Type Pensions on Current Job
Future Pensions
Currently Received Account-Type
CDs
Directly Held Pooled Investment Funds
Stock Mutual Funds
Tax-Free Bond Mutual Funds
Government Bond Mutual Funds
Other Bond Mutual Funds
Combination and Other Mutual Funds
Savings Bonds
Directly Held Stocks
Directly Held Bonds
Tax-Exempt Bonds
Mortgage-Backed Bonds
U.S. Govt. & Govt. Agency Bonds & Bills
Corporate and Foreign Bonds
Cash Value of Whole Life Insurance
Other Managed Assets
Annuities
Trusts
Other Financial Assets

36

Figure 5
Comparison of Actual (Light Blue) and Estimated (Dark Blue) Marginal Distributions, Dirichlet-Multinomial Model, Selected Outcomes,
T=10 and T=100 (Estimated Distributions are Unweighted Sample Averages of Estimated Cell Probabilities)

10

5

10

Directly Held Stocks

1

0

0

.5

1

Density

5

10

0

.2

0

50

70

35

0

0

Directly Held Stocks

.5
Directly Held Stocks

37

Density

0
100

0
100

Quasi-Liquid Retirement Accounts

.8

0

Density

Density

0

.4

50

.4

Quasi-Liquid Retirement Accounts

8

.5

20

Quasi-Liquid Retirement Accounts

4

0

40

Density

Density

0

0

Liquid Assets

.25

Quasi-Liquid Retirement Accounts

0

1

.5

0

1

.5
Liquid Assets

2.5

.5

0

Liquid Assets
5

0

0

Density

Liquid Assets

5

1

0

.7

Density

0

.1

Density

0

1

10

.2

Density

.5

.2

Density

0

Density

2

20

.4

4

.35

0

50
Directly Held Stocks

0
100

Figure 6
Lorenz Curve Plots of DM Estimates (T=100) against Corresponding Coarsened Data

CDs

1

0

0

Directly Held Stocks

Data Percentile

1

0

1

0

1

0

Data Percentile

0

Cash Value Whole Life

1

0

Data Percentile

1

0

0

Data Percentile

38

DM Estimate Percentile
0

Other Managed Assets

1

0

Data Percentile

1

0

Other Financial Assets

1

DM Estimate Percentile
0

1

DM Estimate Percentile

DM Estimate Percentile
Data Percentile

1

DM Estimate Percentile
Data Percentile

0

Directly Held Bonds
1

0

1

1

DM Estimate Percentile

Data Percentile

Savings Bonds

1

DM Estimate Percentile

DM Estimate Percentile
0

Directly Held Pooled Funds

1

1

0

Data Percentile

1

0

DM Estimate Percentile

Quasi-Liquid Retirement Accounts
1

DM Estimate Percentile

Liquid Assets

0

Data Percentile

1

0

Table 1a
MEPS, Combined 1996-2007 Sample, Data Extract:
Healthcare Expenditure Shares, Nine Consecutive Observations with Defined Shares
(dupersid is MEPS Individual Case Identifier, with Data Presented in dupersid Sort Order; Boundary Solutions Shaded)
Healthcare Expenditure Category
Vision
Aids

Other
S&E

Total

1

Home
Health
Care
0

0

0

1.000

0

0

0

0

0

1.000

Year
1997

dupersid
00014013

OfficeBased
Visits
0

1997

00015011

1

1997

00015015

0

0

0

0

0

0

0

1

0

1.000

1997

00015022

0.045

0.126

0

0.828

0

0

0

0

0

1.000

1997

00018036

0

0

0.903

0.097

0

0

0

0

0

1.000

1997

00018059

0

0

0

1

0

0

0

0

0

1.000

1997

00018073

0

0.001

0.952

0.006

0.041

0

0

0

0

1.000

1997

00019014

0.108

0

0

0

0.481

0.411

0

0

0

1.000

1997

00020011

0

1

0

0

0

0

0

0

0

1.000

Observation

Dental
Visits

0

Outpatient
Visits
0

0

Prescr.
Drugs

Inpatient
Stays

ER Visits

0

0

0

0

39

Table 1b
American Time Use Survey, Combined 2003-2008 Sample, Data Extract:
Two-Digit Time Use Categories, Nine Consecutive Observations
(tucaseid is ATUS Individual Case Identifier, with Data Presented in tucaseid Sort Order; Boundary Solutions Shaded)

Socializing, Relaxing,
& Leisure

Sports, Exercise, &
Recreation

Religious & Spiritual
Activities

Volunteer Activities

0

0

0

0

0

0

0

45

540

0

0

0

75

0

1440

10

0

540

0

0

0

0

0

60

140

0

0

0

0

75

1440

2003

20030807033487

480

60

0

0

45

0

0

0

0

0

120

320

290

0

0

0

125

1440

2003

20030807033489

1440

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

1440

2003

20030807033490

705

90

0

0

0

0

0

0

0

0

0

450

35

0

0

150

10

1440

2003

20030807033491

600

0

0

477

0

0

0

0

0

0

0

60

0

201

0

0

102

1440

2003

20030807033494

720

0

0

470

0

0

0

0

0

0

10

240

0

0

0

0

0

1440

2003

20030807033495

570

270

0

0

0

0

0

0

0

0

90

380

0

0

0

70

60

1440

2003

20030807033498

705

30

0

0

180

0

0

0

0

0

20

315

0

0

0

0

190

1440

40

Travelling

Professional &
Personal Care Svcs.

0

0

Telephone Calls

Consumer Purchases

240

615

Eating & Drinking

Education

540

20030807033485

Govt. Svcs. & Civic
Obligations

Work & Work-Related
Activities

20030807033472

2003

Household Services

Caring for & Helping
Non-HH Members

2003

Household Activities

tucaseid

Observation

Personal Care
Activities

Year

Caring for & Helping
HH Members

Two-Digit Time Use Category

Total

Table 1c
Survey of Consumer Finances, Combined 2001, 2004, 2007 Sample, Data Extract:
Financial Asset Shares, Nine Consecutive Observations with Defined Shares
(yy1 is SCF Household Case Identifier, with Data Presented in yy1 Sort Order; Boundary Solutions Shaded)
Financial Asset Category

Observation

0

Dir.
Held
Pooled
Funds
0

Liquid
Assets

QuasiLiquid
Retir.

CDs

1

0

Other
Mgd.
Assets

Other
Fin.
Assets

Total

0

Cash
Val.
Whole
Life
0

0

0

1.000

Savings
Bonds

Directly
Held
Stocks

Directly
Held
Bonds

0

0

Year
2007

yy1
1531

2007

1532

.167

.131

0

0

0

0

0

.702

0

0

1.000

2007

1533

.146

.854

0

0

0

0

0

0

0

0

1.000

2007

1534

0

1

0

0

0

0

0

0

0

0

1.000

2007

1535

.255

.531

.204

0

.010

0

0

0

0

0

1.000

2007

1536

.049

.904

.014

0

0

.007

0

.026

0

0

1.000

2007

1537

0

0

0

0

0

0

0

1

0

0

1.000

2007

1538

.359

.513

0

0

0

.128

0

0

0

0

1.000

2007

1539

1

0

0

0

0

0

0

0

0

0

1.000

41

Table 2
Survey of Consumer Finances, Combined 2001, 2004, 2007 Sample: Descriptive Statistics
Financial Asset Aggregate Category Shares,
Estimation Sample (N=12,723)

Mean

Sample Percentages (Unweighted)

Unwtd.

Weighted

sim = 0

sim = 1

0 < sim < 1

Liquid Assets

.332

.399

.018

.170

.812

Quasi-Liquid Retirement Accounts

.292

.312

.355

.005

.640

CDs

.039

.044

.823

.001

.176

Directly Held Pooled Investment Funds

.074

.047

.745

.0002

.255

Savings Bonds

.010

.013

.820

.001

.180

Directly Held Stocks

.097

.050

.654

.001

.346

Directly Held Bonds

.022

.004

.907

0

.093

Cash Value of Whole Life Insurance

.065

.073

.669

.004

.326

Other Managed Assets

.037

.026

.885

.0001

.115

Other Miscellaneous Financial Assets

.032

.031

.258

.004

.738

Full Sample
(N=13,379)

Covariates,
Full and Estimation
Samples

Subsample with Defined Shares
(N=12,723)

Mean

Mean

Unwtd.

Wtd.

Min

Max

Unwtd.

Wtd.

Min

Max

50.9

49.5

18

95

51.4

50.0

18

95

White

.78

.73

0

1

.80

.75

0

1

Married

.67

.59

0

1

.68

.60

1

1

Number of Kids

.85

.82

0

10

.84

.80

0

10

High School Graduate

.25

.32

0

1

.25

.32

0

1

Some College

.16

.18

0

1

.16

.19

0

1

College Graduate

.48

.35

0

1

.50

.37

0

1

Year 2004

.34

--

0

1

.34

--

0

1

Year 2007

.33

--

0

1

.33

--

0

1

Age

42

Table 3
Financial Asset Shares, MFLOGIT Point Estimates and Robust Asymptotic Standard Errors
(Normalization: βOther Financial Assets = 0 ; Shaded Entries Denote Conservative FDR Rejection Recommendation for H0: βkm = 0 )
Financial Asset Category
Dir.
Held
Directly
Pooled
Savings
Held
Funds
Bonds
Stocks
.034
-.007
.039
.003
.005
.003

Age
s.e.

Liquid
Assets
.001
.003

QuasiLiquid
Retir.
Accts.
.006
.003

CDs
.049
.004

White
s.e.

-.264
.102

.097
.104

.203
.139

.796
.133

.508
.192

Married
s.e.

.270
.086

.873
.088

.398
.108

.890
.100

Number of Kids
s.e.

-.033
.039

-.023
.039

-.073
.052

High School Graduate
s.e.

-.024
.154

.972
.165

Some College
s.e.

-.280
.161

College Graduate
s.e.

Directly
Held
Bonds
.069
.004

Cash
Val.
Whole
Life
.020
.003

Other
Managed
Funds
.058
.004

.796
.125

1.952
.288

-.438
.115

.946
.181

.400
.152

1.101
.097

1.351
.145

.546
.101

.615
.117

.001
.044

.099
.054

-.025
.043

.021
.059

.054
.044

.012
.055

.672
.193

1.405
.234

.920
.340

.945
.211

1.287
.421

.445
.177

.888
.256

.898
.171

.415
.204

1.736
.239

1.197
.341

1.388
.215

2.108
.413

.271
.186

1.113
.262

-.296
.145

1.384
.155

.678
.183

2.681
.221

.787
.330

2.341
.198

3.181
.388

.161
.166

1.923
.239

Year 2004
s.e.

-.041
.100

-.069
.101

-.208
.125

-.164
.111

-.014
.161

-.332
.108

-.034
.137

-.486
.113

-.331
.128

Year 2007
s.e.

-.249
.100

-.118
.101

-.296
.122

-.216
.111

-.336
.166

-.508
.108

-.394
.140

-.714
.113

-.656
.130

Constant
s.e.

2.611
.224

.277
.231

-3.184
.308

-4.150
.305

-2.285
.453

-3.843
.298

-9.356
.642

-.199
.259

-5.313
.385

43

Table 4
Financial Asset Shares, MFLOGIT Estimates: Weighted APE Point Estimates and Bootstrap 95%-CI Lower and Upper
Bounds (CIs based on 500 Bootstrap Replications and Hansen C2 Method)
Financial Asset Category
Savings
Bonds
-.0002
-.0003
-.0001

Directly
Held
Stocks
.0016
.0014
.0018

Directly
Held
Bonds
.0007
.0006
.0009

Cash
Val.
Whole
Life
.0005
.0003
.0007

Other
Managed
Assets
.0012
.0010
.0014

Other
Financial
Assets
-.0004
-.0006
-.0002

.0333
.0270
.0398

.0050
.0022
.0079

.0414
.0348
.0490

.0149
.0127
.0169

-.0355
-.0451
-.0245

.0196
.0146
.0253

.0003
-.0069
.0072

-.0079
-.0141
-.0021

.0144
.0088
.0210

-.0019
-.0046
.0010

.0325
.0267
.0380

.0094
.0068
.0121

-.0004
-.0081
.0068

-.0008
-.0059
.0042

-.0206
-.0272
-.0144

-.0014
-.0068
.0037

-.0022
-.0052
.0006

.0011
-.0014
.0035

.0013
.0005
.0022

-.0006
-.0033
.0021

.0006
-.0007
.0021

.0051
.0023
.0081

.0009
-.0018
.0031

.0007
-.0021
.0033

-.1889
-.2153
-.1607

.1267
.1056
.1486

.0112
.0022
.0216

.0238
.0176
.0309

.0052
.0009
.0096

.0177
.0083
.0257

.0038
.0007
.0065

.0066
-.0082
.0214

.0087
.0012
.0156

-.0146
-.0255
-.0010

Some College
CI-L
CI-U

-.2495
-.2785
-.2186

.1306
.1067
.1534

.0026
-.0081
.0130

.0419
.0343
.0509

.0106
.0056
.0158

.0459
.0351
.0559

.0128
.0086
.0171

-.0002
-.0151
.0134

.0160
.0080
.0240

-.0108
-.0238
.0039

College Graduate
CI-L
CI-U

-.3540
-.3802
-.3274

.1714
.1513
.1917

-.0027
-.0110
.0061

.0819
.0748
.0904

.0015
-.0020
.0056

.0968
.0879
.1050

.0256
.0223
.0292

-.0288
-.0424
-.0158

.0300
.0237
.0361

-.0217
-.0326
-.0102

Year 2004
CI-L
CI-U

.0295
.0145
.0443

.0159
.0041
.0289

-.0027
-.0087
.0035

-.0013
-.0078
.0048

.0012
-.0015
.0043

-.0149
-.0221
-.0084

.0020
-.0014
.0048

-.0275
-.0361
-.0196

-.0062
-.0111
-.0005

.0040
-.0025
.0100

Year 2007
CI-L
CI-U

.0069
-.0084
.0208

.0429
.0280
.0565

-.0003
-.0066
.0055

.0040
-.0016
.0102

-.0008
-.0036
.0018

-.0174
-.0243
-.0106

-.0014
-.0038
.0014

-.0324
-.0413
-.0247

-.0112
-.0163
-.0063

.0096
.0036
.0159

CDs
.0013
.0011
.0015

Dir.
Held
Pooled
Funds
.0010
.0008
.0012

.0150
-.0019
.0304

.0059
-.0009
.0126

-.1030
-.1192
-.0879

.0783
.0648
.0909

Number of Kids
CI-L
CI-U

-.0054
-.0115
.0004

High School Graduate
CI-L
CI-U

Age
CI-L
CI-U

Liquid
Assets
-.0037
-.0042
-.0033

QuasiLiquid
Retir.
Accts.
-.0020
-.0024
-.0017

White
CI-L
CI-U

-.0999
-.1174
-.0824

Married
CI-L
CI-U

44

Table 5
Model Prediction Performance: 80/20 Cross-Validation for MPEs and MSEs, and Linear Model Predictions outside [0,1]
Interval (Averages over 100 Replicates)
Out of Sample Predictions
(Best for Each Asset Category is Shaded)
Mean Prediction Error

Financial
Asset
Category

Mean Squared Error

Linear Model:
Fraction of
Predictions < 0
Out of
InSample Sample

MFLOGIT

Linear

Tobit

MFLOGIT

Linear

Tobit

Liquid Assets

.0117

-.0002

-.0666

.1149

.1141

.1187

0

0

Quasi-Liquid Retirement Accts.

.0089

.0003

.0082

.1084

.1098

.1109

.0002

.0001

CDs

.0014

.0002

-.0031

.0180

.0183

.0184

.0322

.0292

Directly Held Pooled Funds

.0023

.0004

.0001

.0293

.0294

.0296

.0543

.0538

Savings Bonds

.0004

.0001

-.0048

.00387

.00388

.0040

.0221

.0193

Directly Held Stocks

.0018

-.0005

-.0034

.03641

.0370

.03642

.0750

.0750

Directly Held Bonds

.0005

.00003

-.0007

.0094

.0095

.0095

.1707

.1689

Cash Value of Whole Life

.0019

-.0002

-.0110

.03149

.03151

.0325

0

0

Other Managed Assets

.0005

-.0004

-.0006

.0196

.0197

.0197

.0987

.0984

Other Financial Assets

.0014

.0003

-.0043

.01879

.01879

.0190

.0007

.0006

45

Table 6
Disaggregated Share Model: MFLOGIT Point Estimates, Robust Asymptotic Standard Errors, and χ2 Aggregation Tests
(Only Disaggregated Categories and Slope Parameters Shown; Normalization: θOther Financial Assets = 0 )
Financial Asset Category

.045

.138

.001
.003

.029
.003

.054
.005

.053
.008

.051
.008

.040
.005

1.411
.309

-.264
.102

.751
.138

.846
.228

.766
.301

1.405
.469

.283
.094

1.116
.191

.270
.086

.850
.104

1.229
.164

.738
.236

-.041
.041

-.049
.043

.082
.072

-.033
.039

-.009
.045

-.037
.061

.257
.196

-.168
.159

.147
.166

.851
.571

-.024
.154

1.506
.248

Some College
s.e.

.383
.203

-.495
.167

-.178
.175

1.753
.547

-.280
.161

Coll. Graduate
s.e.

.917
.181

-.761
.150

-.240
.157

2.684
.511

Year 2004
s.e.

-.085
.114

.116
.105

-.296
.108

Year 2007
s.e.

-.221
.114

-.137
.105

-.439
.109

.093
.012

.064
.010

.076
.009

.069
.004

1.017
.228

.796
.133

1.905
.348

3.291
.525

2.157
.540

1.875
.428

1.952
.288

.947
.249

1.020
.161

.890
.100

1.543
.168

1.177
.361

1.009
.275

1.254
.265

1.351
.145

.064
.089

-.067
.112

.106
.067

.001
.044

.006
.065

-.028
.155

.041
.099

.095
.120

.021
.059

.872
.396

2.773
.652

2.969
.652

1.272
.441

1.405
.234

.895
.462

3.925
.905

1.908
.689

15.35
.401

1.287
.421

1.793
.254

1.377
.387

3.450
.651

3.220
.650

1.710
.444

1.736
.239

1.797
.449

4.672
.879

2.809
.628

15.91
.380

2.108
.413

-.296
.145

2.734
.235

2.284
.358

4.173
.609

4.523
.591

2.782
.410

2.681
.221

2.880
.414

5.737
.768

3.876
.572

17.13
.244

3.181
.388

-.283
.177

-.041
.100

-.266
.114

-.340
.155

-.081
.245

.183
.236

.408
.176

-.164
.111

-.047
.151

.147
.320

-.402
.228

.279
.220

-.034
.137

-.650
.188

-.249
.100

-.390
.114

-.113
.157

-.333
.227

-.130
.248

.582
.173

-.216
.111

-.351
.154

-.861
.406

-.422
.235

-.420
.237

-.394
.140

.538

.281

.014

Age
s.e.

.021
.003

-.006
.003

.001
.003

.046
.006

White
s.e.

.087
.124

-.337
.105

-.313
.110

Married
s.e.

.718
.103

.101
.090

Number of Kids
s.e.

.017
.046

H.S. Graduate
s.e.

c2 Test Stats.
Within-Categ.
Overall

952.3 (d.f.=27, p<.0001)

153.5 (d.f.=36, p<.0001)
2,75.8 (d.f.=90, p<.0001)

46

1,591.2 (d.f.=27, p<.0001)

Category
Aggregate
(Reference)

.070
.005

.167

Category
Aggregate
(Reference)
.034
.003

Subcategory %

Category
Aggregate
(Reference)

.137

Call
Accounts

.163

Savings
Accounts

.059

Checking
Accounts

.641

Money
Market
Accounts

Corporate &
Foreign
Bonds

Combination
& Other
Mutual
Funds

.031

U.S. Govt. &
Govt. Agcy.
Bonds &
Bills

Other Bond
Mutual
Funds

.118

MortgageBacked
Bonds

Government
Bond Mutual
Funds

.668

Directly Held Bonds
Tax-Exempt
Bonds

Tax-Free
Bond Mutual
Funds

Directly Held Pooled Funds
Stock
Mutual
Funds

Liquid Assets

Table 7
Financial Asset Shares, Weighted APE Point Estimates: MFLOGIT and DM (T=10 and T=100) Estimator Comparison
(Shaded Cells Indicate Discordant Signs)
Financial Asset Category
QuasiLiquid
Retir.
Accts.
-.0020
-.0016
-.0022

CDs
.0013
.0010
.0009

Dir.
Held
Pooled
Funds
.0010
.0007
.0007

Savings
Bonds
-.0002
-.0003
-.0001

Directly
Held
Stocks
.0016
.0012
.0012

Directly
Held
Bonds
.0007
.0005
.0005

Cash
Val.
Whole
Life
.0005
.0010
.0003

Other
Managed
Assets
.0012
.0006
.0007

Other
Financial
Assets
-.0004
-.0001
-.0002

Age

MFLOGIT
DM, T=100
DM, T=10

Liquid
Assets
-.0037
-.0029
-.0018

White

MFLOGIT
DM, T=100
DM, T=10

-.0999
-.0868
-.0679

.0150
.0236
.0166

.0059
.0055
.0016

.0333
.0220
.0245

.0050
.0044
.0029

.0414
.0304
.0300

.0149
.0099
.0092

-.0355
-.0162
-.0259

.0196
.0101
.0113

.0003
-.0030
-.0023

Married

MFLOGIT
DM, T=100
DM, T=10

-.1030
-.0978
-.0736

.0783
.0702
.0629

-.0079
-.0028
-.0049

.0144
.0077
.0084

-.0019
-.0032
-.0040

.0325
.0217
.0225

.0094
.0050
.0055

-.0004
.0112
-.0010

-.0008
.0010
-.0007

-.0206
-.0132
-.0150

N. of Kids

MFLOGIT
DM, T=100
DM, T=10

-.0054
-.0074
-.0031

-.0014
-.0005
-.0014

-.0022
-.0014
-.0024

.0011
.0020
.0015

.0013
.0031
.0011

-.0006
-.0003
-.0002

.0006
.0007
.0007

.0051
.0049
.0039

.0009
.0003
.0008

.0007
-.0015
-.0007

H.S. Grad.

MFLOGIT
DM, T=100
DM, T=10

-.1889
-.1410
-.1298

.1267
.0844
.0951

.0112
.0071
.0055

.0238
.0156
.0168

.0052
.0116
.0046

.0177
.0141
.0141

.0038
.0018
.0029

.0066
.0127
.0010

.0087
.0020
.0028

-.0146
-.0083
-.0130

Some Coll.

MFLOGIT
DM, T=100
DM, T=10

-.2495
-.1911
-.1666

.1306
.0904
.0935

.0026
.0001
-.0017

.0419
.0272
.0283

.0106
.0147
.0075

.0459
.0375
.0364

.0128
.0093
.0082

-.0002
.0070
-.0042

.0160
.0088
.0103

-.0108
-.0037
-.0120

Coll. Grad.

MFLOGIT
DM, T=100
DM, T=10

-.3540
-.2921
-.2380

.1714
.1465
.1302

-.0027
-.0057
-.0107

.0819
.0568
.0572

.0015
.0026
-.0009

.0968
.0776
.0737

.0256
.0173
.0180

-.0288
-.0085
-.0274

.0300
.0139
.0154

-.0217
-.0085
-.0176

Year 2004

MFLOGIT
DM, T=100
DM, T=10

.0295
.0209
.0129

.0159
.0019
.0125

-.0027
-.0028
-.0001

-.0013
-.0041
-.0013

.0012
.0017
.0012

-.0149
-.0053
-.0082

.0020
-.0006
.0012

-.0275
-.0117
-.0159

-.0062
-.0027
-.0040

.0040
.0027
.0016

Year 2007

MFLOGIT
DM, T=100
DM, T=10

.0069
.0108
.0013

.0429
.0203
.0304

-.0003
.0051
.0032

.0040
-.0038
.0024

-.0008
-.0006
-.0003

-.0174
-.0106
-.0123

-.0014
-.0022
-.0008

-.0324
-.0167
-.0197

-.0112
-.0055
-.0077

.0096
.0033
.0034

47

Table 8
DM Estimator Fit Performance: Pr ( sk = 0 ) and Pr ( sk = 1)
Financial Asset Category

Pr ( sk = 0 )

Pr ( sk = 1)

Sample
Frequency
DM Estimate,
T=10
DM Estimate,
T=100
Sample
Frequency
DM Estimate,
T=10
DM Estimate,
T=100

Savings
Bonds

Directly
Held
Stocks

Directly
Held
Bonds

Cash
Val.
Whole
Life

Other
Managed
Assets

Other
Financial
Assets

.745

.820

.654

.907

.669

.885

.856

.908

.811

.975

.760

.942

.857

.921

.935

.335

.840

.740

.910

.658

.910

.721

.889

.882

.170

.005

.001

.0002

.001

.001

0

.004

.0001

.004

.166

.028

.003

.003

.001

.004

.0004

.005

.001

.002

.099

.012

.002

.001

.001

.002

.0002

.003

.001

.001

CDs

Dir.
Held
Pooled
Funds

.355

.823

.137

.450

.105

Liquid
Assets

QuasiLiquid
Retir.
Accts.

.018

48

